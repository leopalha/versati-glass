
> versati-glass@1.0.0 dev
> next dev

  â–² Next.js 14.2.33
  - Local:        http://localhost:3000
  - Environments: .env.local, .env

 âœ“ Starting...
 âœ“ Ready in 4s
 â—‹ Compiling /src/middleware ...
 âœ“ Compiled /src/middleware in 606ms (145 modules)
 â—‹ Compiling / ...
 âœ“ Compiled / in 11.1s (1013 modules)
 â—‹ Compiling /_not-found ...
 GET / 200 in 19739ms
 âœ“ Compiled /_not-found in 21s (1002 modules)
 GET /images/box-premium.jpg 404 in 12906ms
 â¨¯ The requested resource isn't a valid image for /images/box-premium.jpg received null
 GET /images/guarda-corpo.jpg 404 in 12702ms
 â¨¯ The requested resource isn't a valid image for /images/guarda-corpo.jpg received null
 GET /images/espelho.jpg 404 in 11546ms
 â¨¯ The requested resource isn't a valid image for /images/espelho.jpg received null
 GET /.well-known/appspecific/com.chrome.devtools.json 404 in 20245ms
 GET /images/cta-pattern.svg 404 in 13272ms
 GET /images/hero-pattern.svg 404 in 19244ms
 â—‹ Compiling /api/auth/[...nextauth] ...
 GET / 200 in 20380ms
 âœ“ Compiled /api/auth/[...nextauth] in 2.2s (574 modules)
 âœ“ Compiled (748 modules)
 GET /images/fachada.jpg 404 in 11714ms
 â¨¯ The requested resource isn't a valid image for /images/fachada.jpg received null
 GET /.well-known/appspecific/com.chrome.devtools.json 404 in 11793ms
 GET /icon.png?4a0e2032a7eb3a55 200 in 12923ms
 GET /manifest.webmanifest 200 in 13844ms
 GET /images/box-premium.jpg 404 in 7832ms
 â¨¯ The requested resource isn't a valid image for /images/box-premium.jpg received null
 GET /images/guarda-corpo.jpg 404 in 6219ms
 â¨¯ The requested resource isn't a valid image for /images/guarda-corpo.jpg received null
 GET /images/cta-pattern.svg 404 in 8604ms
 GET /images/hero-pattern.svg 404 in 11630ms
 GET /images/espelho.jpg 404 in 861ms
 â¨¯ The requested resource isn't a valid image for /images/espelho.jpg received null
 GET /images/fachada.jpg 404 in 684ms
 â¨¯ The requested resource isn't a valid image for /images/fachada.jpg received null
 GET /icon.png?4a0e2032a7eb3a55 200 in 989ms
 GET /icon-192x192.png 404 in 1244ms
 GET /images/hero-pattern.svg 404 in 614ms
 GET /images/cta-pattern.svg 404 in 666ms
 GET /icons/icon-144x144.png 404 in 794ms
 GET /icon.png?4a0e2032a7eb3a55 200 in 1180ms
[33m[auth][warn][debug-enabled][0m Read more: https://warnings.authjs.dev
 GET /manifest.webmanifest 200 in 1319ms
[DEBUG] 2025-12-19T03:39:37.488Z - [AUTH] JWT callback { hasUser: false, trigger: undefined }
[DEBUG] 2025-12-19T03:39:37.500Z - [AUTH] Session callback { hasToken: true }
[DEBUG] 2025-12-19T03:39:37.501Z - [AUTH] Session created { userId: '81628a46-5e97-437a-9488-32d6a79e9d58', role: 'ADMIN' }
[DEBUG] 2025-12-19T03:39:37.504Z - [AUTH] JWT callback { hasUser: false, trigger: undefined }
[DEBUG] 2025-12-19T03:39:37.505Z - [AUTH] Session callback { hasToken: true }
[DEBUG] 2025-12-19T03:39:37.505Z - [AUTH] Session created { userId: '81628a46-5e97-437a-9488-32d6a79e9d58', role: 'ADMIN' }
 GET /api/auth/session 200 in 18710ms
 GET /api/auth/session 200 in 7192ms
[DEBUG] 2025-12-19T03:39:37.777Z - [AUTH] JWT callback { hasUser: false, trigger: undefined }
[DEBUG] 2025-12-19T03:39:37.778Z - [AUTH] Session callback { hasToken: true }
[DEBUG] 2025-12-19T03:39:37.780Z - [AUTH] Session created { userId: '18ce88ad-3ba2-42a6-9a06-fd4976d5feac', role: 'CUSTOMER' }
 GET /api/auth/session 200 in 913ms
[DEBUG] 2025-12-19T03:39:38.308Z - [AUTH] JWT callback { hasUser: false, trigger: undefined }
[DEBUG] 2025-12-19T03:39:38.310Z - [AUTH] Session callback { hasToken: true }
[DEBUG] 2025-12-19T03:39:38.311Z - [AUTH] Session created { userId: '81628a46-5e97-437a-9488-32d6a79e9d58', role: 'ADMIN' }
 GET /icon-192x192.png 404 in 728ms
 GET /api/auth/session 200 in 561ms
[DEBUG] 2025-12-19T03:39:38.388Z - [AUTH] JWT callback { hasUser: false, trigger: undefined }
[DEBUG] 2025-12-19T03:39:38.389Z - [AUTH] Session callback { hasToken: true }
[DEBUG] 2025-12-19T03:39:38.389Z - [AUTH] Session created { userId: '18ce88ad-3ba2-42a6-9a06-fd4976d5feac', role: 'CUSTOMER' }
 GET /api/auth/session 200 in 315ms
[DEBUG] 2025-12-19T03:39:38.605Z - [AUTH] JWT callback { hasUser: false, trigger: undefined }
[DEBUG] 2025-12-19T03:39:38.605Z - [AUTH] Session callback { hasToken: true }
[DEBUG] 2025-12-19T03:39:38.606Z - [AUTH] Session created { userId: '81628a46-5e97-437a-9488-32d6a79e9d58', role: 'ADMIN' }
 GET /api/auth/session 200 in 247ms
[DEBUG] 2025-12-19T03:39:38.681Z - [AUTH] JWT callback { hasUser: false, trigger: undefined }
[DEBUG] 2025-12-19T03:39:38.683Z - [AUTH] Session callback { hasToken: true }
[DEBUG] 2025-12-19T03:39:38.685Z - [AUTH] Session created { userId: '18ce88ad-3ba2-42a6-9a06-fd4976d5feac', role: 'CUSTOMER' }
 GET /api/auth/session 200 in 259ms
[DEBUG] 2025-12-19T03:39:39.322Z - [AUTH] JWT callback { hasUser: false, trigger: undefined }
[DEBUG] 2025-12-19T03:39:39.323Z - [AUTH] Session callback { hasToken: true }
[DEBUG] 2025-12-19T03:39:39.323Z - [AUTH] Session created { userId: '18ce88ad-3ba2-42a6-9a06-fd4976d5feac', role: 'CUSTOMER' }
 GET /api/auth/session 200 in 239ms
 âœ“ Compiled in 8.4s (1014 modules)
 â—‹ Compiling /_not-found ...
 âœ“ Compiled /_not-found in 736ms (539 modules)
 GET /images/hero-pattern.svg 404 in 2650ms
 GET /images/cta-pattern.svg 404 in 2381ms
 GET /images/cta-pattern.svg 404 in 2619ms
 GET /images/hero-pattern.svg 404 in 2627ms
 GET /icons/icon-144x144.png 404 in 188ms
 âœ“ Compiled in 4.4s (1016 modules)
 GET /images/cta-pattern.svg 404 in 729ms
 GET /images/hero-pattern.svg 404 in 873ms
 GET /images/cta-pattern.svg 404 in 722ms
 GET /images/hero-pattern.svg 404 in 730ms
 â—‹ Compiling /api/auth/[...nextauth] ...
 âœ“ Compiled /api/auth/[...nextauth] in 2.8s (712 modules)
[33m[auth][warn][debug-enabled][0m Read more: https://warnings.authjs.dev
 GET /api/auth/csrf 200 in 3803ms
 POST /api/auth/signout 200 in 267ms
 â—‹ Compiling /_not-found ...
 GET / 200 in 4369ms
 âœ“ Compiled /_not-found in 3.2s (714 modules)
 GET /.well-known/appspecific/com.chrome.devtools.json 404 in 5443ms
 GET /images/cta-pattern.svg 404 in 2048ms
 GET /images/hero-pattern.svg 404 in 4817ms
 â—‹ Compiling /manifest.webmanifest ...
 âœ“ Compiled /manifest.webmanifest in 5.1s (746 modules)
 GET /manifest.webmanifest 200 in 7851ms
[33m[auth][warn][debug-enabled][0m Read more: https://warnings.authjs.dev
 GET /api/auth/session 200 in 7630ms
 GET /api/auth/session 200 in 566ms
 GET /api/auth/session 200 in 724ms
 GET /api/auth/session 200 in 674ms
 â—‹ Compiling /login ...
 âœ“ Compiled /login in 7.9s (1272 modules)
 GET /images/hero-pattern.svg 404 in 917ms
 GET /images/cta-pattern.svg 404 in 806ms
 GET /images/hero-pattern.svg 404 in 389ms
 GET /images/cta-pattern.svg 404 in 403ms
 GET /icons/icon-144x144.png 404 in 145ms
[33m[auth][warn][debug-enabled][0m Read more: https://warnings.authjs.dev
 GET /api/auth/providers 200 in 228ms
 GET /api/auth/csrf 200 in 65ms
[DEBUG] 2025-12-19T03:43:55.871Z - [AUTH] Starting authorization { email: 'cliente@versatiglass.com.br' }
[DEBUG] 2025-12-19T03:43:55.874Z - [AUTH] Credentials validated { email: 'cliente@versatiglass.com.br' }
prisma:query SELECT "public"."users"."id", "public"."users"."email", "public"."users"."password", "public"."users"."name", "public"."users"."phone", "public"."users"."cpfCnpj", "public"."users"."street", "public"."users"."number", "public"."users"."complement", "public"."users"."neighborhood", "public"."users"."city", "public"."users"."state", "public"."users"."zipCode", "public"."users"."role"::text, "public"."users"."emailVerified", "public"."users"."phoneVerified", "public"."users"."authProvider"::text, "public"."users"."googleId", "public"."users"."createdAt", "public"."users"."updatedAt", "public"."users"."lastLoginAt" FROM "public"."users" WHERE ("public"."users"."email" = $1 AND 1=1) LIMIT $2 OFFSET $3
[DEBUG] 2025-12-19T03:43:56.025Z - [AUTH] User found { email: 'cliente@versatiglass.com.br', hasPassword: true }
[DEBUG] 2025-12-19T03:43:56.296Z - [AUTH] Password comparison result { isValid: true }
[DEBUG] 2025-12-19T03:43:56.296Z - [AUTH] Authentication successful {
  userId: 'fae47148-3f7b-426f-985d-488ba2a850fb',
  email: 'cliente@versatiglass.com.br'
}
[DEBUG] 2025-12-19T03:43:56.297Z - [AUTH] SignIn callback {
  provider: 'credentials',
  userId: 'fae47148-3f7b-426f-985d-488ba2a850fb',
  email: 'cliente@versatiglass.com.br'
}
[DEBUG] 2025-12-19T03:43:56.297Z - [AUTH] JWT callback { hasUser: true, trigger: 'signIn' }
[DEBUG] 2025-12-19T03:43:56.297Z - [AUTH] JWT - User added to token { userId: 'fae47148-3f7b-426f-985d-488ba2a850fb', role: 'CUSTOMER' }
 POST /api/auth/callback/credentials? 200 in 500ms
[DEBUG] 2025-12-19T03:43:56.390Z - [AUTH] JWT callback { hasUser: false, trigger: undefined }
[DEBUG] 2025-12-19T03:43:56.390Z - [AUTH] Session callback { hasToken: true }
[DEBUG] 2025-12-19T03:43:56.390Z - [AUTH] Session created { userId: 'fae47148-3f7b-426f-985d-488ba2a850fb', role: 'CUSTOMER' }
 GET /api/auth/session 200 in 74ms
[DEBUG] 2025-12-19T03:43:56.490Z - [AUTH] JWT callback { hasUser: false, trigger: undefined }
[DEBUG] 2025-12-19T03:43:56.490Z - [AUTH] Session callback { hasToken: true }
[DEBUG] 2025-12-19T03:43:56.491Z - [AUTH] Session created { userId: 'fae47148-3f7b-426f-985d-488ba2a850fb', role: 'CUSTOMER' }
 GET /api/auth/session 200 in 84ms
[DEBUG] 2025-12-19T03:43:56.598Z - [AUTH] JWT callback { hasUser: false, trigger: undefined }
[DEBUG] 2025-12-19T03:43:56.599Z - [AUTH] Session callback { hasToken: true }
[DEBUG] 2025-12-19T03:43:56.599Z - [AUTH] Session created { userId: 'fae47148-3f7b-426f-985d-488ba2a850fb', role: 'CUSTOMER' }
 GET /api/auth/session 200 in 86ms
 â—‹ Compiling /portal ...
 âœ“ Compiled /portal in 4.2s (1300 modules)
[33m[auth][warn][debug-enabled][0m Read more: https://warnings.authjs.dev
[DEBUG] 2025-12-19T03:44:02.164Z - [AUTH] JWT callback { hasUser: false, trigger: undefined }
[DEBUG] 2025-12-19T03:44:02.165Z - [AUTH] Session callback { hasToken: true }
[DEBUG] 2025-12-19T03:44:02.165Z - [AUTH] Session created { userId: 'fae47148-3f7b-426f-985d-488ba2a850fb', role: 'CUSTOMER' }
[DEBUG] 2025-12-19T03:44:02.166Z - [AUTH] JWT callback { hasUser: false, trigger: undefined }
[DEBUG] 2025-12-19T03:44:02.166Z - [AUTH] Session callback { hasToken: true }
[DEBUG] 2025-12-19T03:44:02.166Z - [AUTH] Session created { userId: 'fae47148-3f7b-426f-985d-488ba2a850fb', role: 'CUSTOMER' }
prisma:query SELECT "public"."orders"."id", "public"."orders"."number", "public"."orders"."quoteId", "public"."orders"."userId", "public"."orders"."serviceStreet", "public"."orders"."serviceNumber", "public"."orders"."serviceComplement", "public"."orders"."serviceNeighborhood", "public"."orders"."serviceCity", "public"."orders"."serviceState", "public"."orders"."serviceZipCode", "public"."orders"."subtotal", "public"."orders"."discount", "public"."orders"."installationFee", "public"."orders"."total", "public"."orders"."paymentStatus"::text, "public"."orders"."paymentMethod"::text, "public"."orders"."paidAmount", "public"."orders"."stripeSessionId", "public"."orders"."stripePaymentIntentId", "public"."orders"."status"::text, "public"."orders"."estimatedDelivery", "public"."orders"."installedAt", "public"."orders"."completedAt", "public"."orders"."warrantyUntil", "public"."orders"."internalNotes", "public"."orders"."createdAt", "public"."orders"."updatedAt" FROM "public"."orders" WHERE "public"."orders"."userId" = $1 ORDER BY "public"."orders"."createdAt" DESC LIMIT $2 OFFSET $3
prisma:query SELECT "public"."appointments"."id", "public"."appointments"."userId", "public"."appointments"."orderId", "public"."appointments"."quoteId", "public"."appointments"."type"::text, "public"."appointments"."scheduledDate", "public"."appointments"."scheduledTime", "public"."appointments"."estimatedDuration", "public"."appointments"."addressStreet", "public"."appointments"."addressNumber", "public"."appointments"."addressComplement", "public"."appointments"."addressNeighborhood", "public"."appointments"."addressCity", "public"."appointments"."addressState", "public"."appointments"."addressZipCode", "public"."appointments"."status"::text, "public"."appointments"."assignedToId", "public"."appointments"."notes", "public"."appointments"."completionNotes", "public"."appointments"."reminderSentAt", "public"."appointments"."createdAt", "public"."appointments"."updatedAt", "public"."appointments"."completedAt" FROM "public"."appointments" WHERE ("public"."appointments"."userId" = $1 AND "public"."appointments"."scheduledDate" >= $2 AND "public"."appointments"."status" IN (CAST($3::text AS "public"."AppointmentStatus"),CAST($4::text AS "public"."AppointmentStatus"))) ORDER BY "public"."appointments"."scheduledDate" ASC LIMIT $5 OFFSET $6
prisma:query SELECT "public"."quotes"."id", "public"."quotes"."number", "public"."quotes"."userId", "public"."quotes"."customerName", "public"."quotes"."customerEmail", "public"."quotes"."customerPhone", "public"."quotes"."serviceStreet", "public"."quotes"."serviceNumber", "public"."quotes"."serviceComplement", "public"."quotes"."serviceNeighborhood", "public"."quotes"."serviceCity", "public"."quotes"."serviceState", "public"."quotes"."serviceZipCode", "public"."quotes"."subtotal", "public"."quotes"."discount", "public"."quotes"."total", "public"."quotes"."status"::text, "public"."quotes"."validUntil", "public"."quotes"."internalNotes", "public"."quotes"."customerNotes", "public"."quotes"."source"::text, "public"."quotes"."createdAt", "public"."quotes"."updatedAt", "public"."quotes"."sentAt", "public"."quotes"."viewedAt", "public"."quotes"."acceptedAt" FROM "public"."quotes" WHERE "public"."quotes"."userId" = $1 ORDER BY "public"."quotes"."createdAt" DESC LIMIT $2 OFFSET $3
prisma:query SELECT COUNT(*) AS "_count$_all" FROM (SELECT "public"."orders"."id" FROM "public"."orders" WHERE "public"."orders"."userId" = $1 OFFSET $2) AS "sub"
prisma:query SELECT COUNT(*) AS "_count$_all" FROM (SELECT "public"."orders"."id" FROM "public"."orders" WHERE ("public"."orders"."userId" = $1 AND "public"."orders"."status" NOT IN (CAST($2::text AS "public"."OrderStatus"),CAST($3::text AS "public"."OrderStatus"))) OFFSET $4) AS "sub"
prisma:query SELECT COUNT(*) AS "_count$_all" FROM (SELECT "public"."quotes"."id" FROM "public"."quotes" WHERE ("public"."quotes"."userId" = $1 AND "public"."quotes"."status" IN (CAST($2::text AS "public"."QuoteStatus"),CAST($3::text AS "public"."QuoteStatus"))) OFFSET $4) AS "sub"
 GET /.well-known/appspecific/com.chrome.devtools.json 404 in 515ms
 GET /portal 200 in 5998ms
 GET /icons/icon-144x144.png 404 in 264ms
[DEBUG] 2025-12-19T03:44:04.847Z - [AUTH] JWT callback { hasUser: false, trigger: undefined }
[DEBUG] 2025-12-19T03:44:04.847Z - [AUTH] Session callback { hasToken: true }
[DEBUG] 2025-12-19T03:44:04.848Z - [AUTH] Session created { userId: 'fae47148-3f7b-426f-985d-488ba2a850fb', role: 'CUSTOMER' }
 GET /api/auth/session 200 in 142ms
[DEBUG] 2025-12-19T03:44:04.939Z - [AUTH] JWT callback { hasUser: false, trigger: undefined }
[DEBUG] 2025-12-19T03:44:04.939Z - [AUTH] Session callback { hasToken: true }
[DEBUG] 2025-12-19T03:44:04.939Z - [AUTH] Session created { userId: 'fae47148-3f7b-426f-985d-488ba2a850fb', role: 'CUSTOMER' }
 GET /api/auth/session 200 in 72ms
[DEBUG] 2025-12-19T03:44:05.016Z - [AUTH] JWT callback { hasUser: false, trigger: undefined }
[DEBUG] 2025-12-19T03:44:05.016Z - [AUTH] Session callback { hasToken: true }
[DEBUG] 2025-12-19T03:44:05.016Z - [AUTH] Session created { userId: 'fae47148-3f7b-426f-985d-488ba2a850fb', role: 'CUSTOMER' }
 GET /api/auth/session 200 in 65ms
[DEBUG] 2025-12-19T03:44:05.086Z - [AUTH] JWT callback { hasUser: false, trigger: undefined }
[DEBUG] 2025-12-19T03:44:05.087Z - [AUTH] Session callback { hasToken: true }
[DEBUG] 2025-12-19T03:44:05.087Z - [AUTH] Session created { userId: 'fae47148-3f7b-426f-985d-488ba2a850fb', role: 'CUSTOMER' }
 GET /api/auth/session 200 in 60ms
 â—‹ Compiling /portal/pedidos ...
 âœ“ Compiled /portal/pedidos in 1018ms (1305 modules)
[33m[auth][warn][debug-enabled][0m Read more: https://warnings.authjs.dev
[DEBUG] 2025-12-19T03:44:20.050Z - [AUTH] JWT callback { hasUser: false, trigger: undefined }
[DEBUG] 2025-12-19T03:44:20.051Z - [AUTH] Session callback { hasToken: true }
[DEBUG] 2025-12-19T03:44:20.051Z - [AUTH] Session created { userId: 'fae47148-3f7b-426f-985d-488ba2a850fb', role: 'CUSTOMER' }
prisma:query SELECT 1
prisma:query SELECT "public"."orders"."id", "public"."orders"."number", "public"."orders"."quoteId", "public"."orders"."userId", "public"."orders"."serviceStreet", "public"."orders"."serviceNumber", "public"."orders"."serviceComplement", "public"."orders"."serviceNeighborhood", "public"."orders"."serviceCity", "public"."orders"."serviceState", "public"."orders"."serviceZipCode", "public"."orders"."subtotal", "public"."orders"."discount", "public"."orders"."installationFee", "public"."orders"."total", "public"."orders"."paymentStatus"::text, "public"."orders"."paymentMethod"::text, "public"."orders"."paidAmount", "public"."orders"."stripeSessionId", "public"."orders"."stripePaymentIntentId", "public"."orders"."status"::text, "public"."orders"."estimatedDelivery", "public"."orders"."installedAt", "public"."orders"."completedAt", "public"."orders"."warrantyUntil", "public"."orders"."internalNotes", "public"."orders"."createdAt", "public"."orders"."updatedAt" FROM "public"."orders" WHERE "public"."orders"."userId" = $1 ORDER BY "public"."orders"."createdAt" DESC OFFSET $2
 GET /portal/pedidos?_rsc=1vo4h 200 in 281ms
 GET /icons/icon-144x144.png 404 in 192ms
 â—‹ Compiling /portal/orcamentos ...
 âœ“ Compiled /portal/orcamentos in 757ms (1277 modules)
[33m[auth][warn][debug-enabled][0m Read more: https://warnings.authjs.dev
[DEBUG] 2025-12-19T03:44:26.877Z - [AUTH] JWT callback { hasUser: false, trigger: undefined }
[DEBUG] 2025-12-19T03:44:26.878Z - [AUTH] Session callback { hasToken: true }
[DEBUG] 2025-12-19T03:44:26.878Z - [AUTH] Session created { userId: 'fae47148-3f7b-426f-985d-488ba2a850fb', role: 'CUSTOMER' }
prisma:query SELECT "public"."quotes"."id", "public"."quotes"."number", "public"."quotes"."userId", "public"."quotes"."customerName", "public"."quotes"."customerEmail", "public"."quotes"."customerPhone", "public"."quotes"."serviceStreet", "public"."quotes"."serviceNumber", "public"."quotes"."serviceComplement", "public"."quotes"."serviceNeighborhood", "public"."quotes"."serviceCity", "public"."quotes"."serviceState", "public"."quotes"."serviceZipCode", "public"."quotes"."subtotal", "public"."quotes"."discount", "public"."quotes"."total", "public"."quotes"."status"::text, "public"."quotes"."validUntil", "public"."quotes"."internalNotes", "public"."quotes"."customerNotes", "public"."quotes"."source"::text, "public"."quotes"."createdAt", "public"."quotes"."updatedAt", "public"."quotes"."sentAt", "public"."quotes"."viewedAt", "public"."quotes"."acceptedAt" FROM "public"."quotes" WHERE "public"."quotes"."userId" = $1 ORDER BY "public"."quotes"."createdAt" DESC OFFSET $2
prisma:query SELECT "public"."quote_items"."id", "public"."quote_items"."quoteId", "public"."quote_items"."productId", "public"."quote_items"."description", "public"."quote_items"."specifications", "public"."quote_items"."width", "public"."quote_items"."height", "public"."quote_items"."quantity", "public"."quote_items"."color", "public"."quote_items"."finish", "public"."quote_items"."thickness", "public"."quote_items"."glassType", "public"."quote_items"."glassColor", "public"."quote_items"."model", "public"."quote_items"."unitPrice", "public"."quote_items"."totalPrice", "public"."quote_items"."customerImages" FROM "public"."quote_items" WHERE "public"."quote_items"."quoteId" IN ($1,$2) OFFSET $3
 GET /icons/icon-144x144.png 404 in 308ms
 GET /portal/orcamentos?_rsc=fkd23 200 in 382ms
 â—‹ Compiling /portal/orcamentos/[id] ...
 âœ“ Compiled /portal/orcamentos/[id] in 1136ms (1295 modules)
 â—‹ Compiling /api/quotes/[id] ...
 âœ“ Compiled /api/quotes/[id] in 924ms (789 modules)
 GET /icons/icon-144x144.png 404 in 1783ms
[33m[auth][warn][debug-enabled][0m Read more: https://warnings.authjs.dev
[DEBUG] 2025-12-19T03:44:36.878Z - [AUTH] JWT callback { hasUser: false, trigger: undefined }
[DEBUG] 2025-12-19T03:44:36.879Z - [AUTH] Session callback { hasToken: true }
[DEBUG] 2025-12-19T03:44:36.879Z - [AUTH] Session created { userId: 'fae47148-3f7b-426f-985d-488ba2a850fb', role: 'CUSTOMER' }
prisma:query SELECT 1
prisma:query SELECT "public"."quotes"."id", "public"."quotes"."number", "public"."quotes"."userId", "public"."quotes"."customerName", "public"."quotes"."customerEmail", "public"."quotes"."customerPhone", "public"."quotes"."serviceStreet", "public"."quotes"."serviceNumber", "public"."quotes"."serviceComplement", "public"."quotes"."serviceNeighborhood", "public"."quotes"."serviceCity", "public"."quotes"."serviceState", "public"."quotes"."serviceZipCode", "public"."quotes"."subtotal", "public"."quotes"."discount", "public"."quotes"."total", "public"."quotes"."status"::text, "public"."quotes"."validUntil", "public"."quotes"."internalNotes", "public"."quotes"."customerNotes", "public"."quotes"."source"::text, "public"."quotes"."createdAt", "public"."quotes"."updatedAt", "public"."quotes"."sentAt", "public"."quotes"."viewedAt", "public"."quotes"."acceptedAt" FROM "public"."quotes" WHERE ("public"."quotes"."id" = $1 AND 1=1) LIMIT $2 OFFSET $3
prisma:query SELECT "public"."quote_items"."id", "public"."quote_items"."quoteId", "public"."quote_items"."productId", "public"."quote_items"."description", "public"."quote_items"."specifications", "public"."quote_items"."width", "public"."quote_items"."height", "public"."quote_items"."quantity", "public"."quote_items"."color", "public"."quote_items"."finish", "public"."quote_items"."thickness", "public"."quote_items"."glassType", "public"."quote_items"."glassColor", "public"."quote_items"."model", "public"."quote_items"."unitPrice", "public"."quote_items"."totalPrice", "public"."quote_items"."customerImages" FROM "public"."quote_items" WHERE "public"."quote_items"."quoteId" IN ($1) OFFSET $2
prisma:query SELECT "public"."products"."id", "public"."products"."name", "public"."products"."slug", "public"."products"."thumbnail", "public"."products"."category"::text FROM "public"."products" WHERE "public"."products"."id" IN ($1) OFFSET $2
prisma:query SELECT "public"."users"."id", "public"."users"."name", "public"."users"."email", "public"."users"."phone" FROM "public"."users" WHERE "public"."users"."id" IN ($1) OFFSET $2
 GET /api/quotes/0a595f6a-3b92-438f-8410-2d8b0bc4bae8 200 in 2841ms
[DEBUG] 2025-12-19T03:44:36.984Z - [AUTH] JWT callback { hasUser: false, trigger: undefined }
[DEBUG] 2025-12-19T03:44:36.984Z - [AUTH] Session callback { hasToken: true }
[DEBUG] 2025-12-19T03:44:36.984Z - [AUTH] Session created { userId: 'fae47148-3f7b-426f-985d-488ba2a850fb', role: 'CUSTOMER' }
prisma:query SELECT "public"."quotes"."id", "public"."quotes"."number", "public"."quotes"."userId", "public"."quotes"."customerName", "public"."quotes"."customerEmail", "public"."quotes"."customerPhone", "public"."quotes"."serviceStreet", "public"."quotes"."serviceNumber", "public"."quotes"."serviceComplement", "public"."quotes"."serviceNeighborhood", "public"."quotes"."serviceCity", "public"."quotes"."serviceState", "public"."quotes"."serviceZipCode", "public"."quotes"."subtotal", "public"."quotes"."discount", "public"."quotes"."total", "public"."quotes"."status"::text, "public"."quotes"."validUntil", "public"."quotes"."internalNotes", "public"."quotes"."customerNotes", "public"."quotes"."source"::text, "public"."quotes"."createdAt", "public"."quotes"."updatedAt", "public"."quotes"."sentAt", "public"."quotes"."viewedAt", "public"."quotes"."acceptedAt" FROM "public"."quotes" WHERE ("public"."quotes"."id" = $1 AND 1=1) LIMIT $2 OFFSET $3
prisma:query SELECT "public"."quote_items"."id", "public"."quote_items"."quoteId", "public"."quote_items"."productId", "public"."quote_items"."description", "public"."quote_items"."specifications", "public"."quote_items"."width", "public"."quote_items"."height", "public"."quote_items"."quantity", "public"."quote_items"."color", "public"."quote_items"."finish", "public"."quote_items"."thickness", "public"."quote_items"."glassType", "public"."quote_items"."glassColor", "public"."quote_items"."model", "public"."quote_items"."unitPrice", "public"."quote_items"."totalPrice", "public"."quote_items"."customerImages" FROM "public"."quote_items" WHERE "public"."quote_items"."quoteId" IN ($1) OFFSET $2
prisma:query SELECT "public"."products"."id", "public"."products"."name", "public"."products"."slug", "public"."products"."thumbnail", "public"."products"."category"::text FROM "public"."products" WHERE "public"."products"."id" IN ($1) OFFSET $2
prisma:query SELECT "public"."users"."id", "public"."users"."name", "public"."users"."email", "public"."users"."phone" FROM "public"."users" WHERE "public"."users"."id" IN ($1) OFFSET $2
 GET /api/quotes/0a595f6a-3b92-438f-8410-2d8b0bc4bae8 200 in 86ms
 â—‹ Compiling /portal/perfil ...
 âœ“ Compiled /portal/agendamentos in 1793ms (1313 modules)
 âœ“ Compiled in 602ms (516 modules)
 GET /icons/icon-144x144.png 404 in 2715ms
[33m[auth][warn][debug-enabled][0m Read more: https://warnings.authjs.dev
 GET /icons/icon-144x144.png 404 in 207ms
[DEBUG] 2025-12-19T03:44:46.526Z - [AUTH] JWT callback { hasUser: false, trigger: undefined }
[DEBUG] 2025-12-19T03:44:46.526Z - [AUTH] Session callback { hasToken: true }
[DEBUG] 2025-12-19T03:44:46.526Z - [AUTH] Session created { userId: 'fae47148-3f7b-426f-985d-488ba2a850fb', role: 'CUSTOMER' }
prisma:query SELECT 1
prisma:query SELECT "public"."appointments"."id", "public"."appointments"."userId", "public"."appointments"."orderId", "public"."appointments"."quoteId", "public"."appointments"."type"::text, "public"."appointments"."scheduledDate", "public"."appointments"."scheduledTime", "public"."appointments"."estimatedDuration", "public"."appointments"."addressStreet", "public"."appointments"."addressNumber", "public"."appointments"."addressComplement", "public"."appointments"."addressNeighborhood", "public"."appointments"."addressCity", "public"."appointments"."addressState", "public"."appointments"."addressZipCode", "public"."appointments"."status"::text, "public"."appointments"."assignedToId", "public"."appointments"."notes", "public"."appointments"."completionNotes", "public"."appointments"."reminderSentAt", "public"."appointments"."createdAt", "public"."appointments"."updatedAt", "public"."appointments"."completedAt" FROM "public"."appointments" WHERE ("public"."appointments"."userId" = $1 AND ("public"."appointments"."scheduledDate" < $2 OR "public"."appointments"."status" IN (CAST($3::text AS "public"."AppointmentStatus"),CAST($4::text AS "public"."AppointmentStatus"),CAST($5::text AS "public"."AppointmentStatus")))) ORDER BY "public"."appointments"."scheduledDate" DESC LIMIT $6 OFFSET $7
prisma:query SELECT "public"."appointments"."id", "public"."appointments"."userId", "public"."appointments"."orderId", "public"."appointments"."quoteId", "public"."appointments"."type"::text, "public"."appointments"."scheduledDate", "public"."appointments"."scheduledTime", "public"."appointments"."estimatedDuration", "public"."appointments"."addressStreet", "public"."appointments"."addressNumber", "public"."appointments"."addressComplement", "public"."appointments"."addressNeighborhood", "public"."appointments"."addressCity", "public"."appointments"."addressState", "public"."appointments"."addressZipCode", "public"."appointments"."status"::text, "public"."appointments"."assignedToId", "public"."appointments"."notes", "public"."appointments"."completionNotes", "public"."appointments"."reminderSentAt", "public"."appointments"."createdAt", "public"."appointments"."updatedAt", "public"."appointments"."completedAt" FROM "public"."appointments" WHERE ("public"."appointments"."userId" = $1 AND "public"."appointments"."scheduledDate" >= $2 AND "public"."appointments"."status" IN (CAST($3::text AS "public"."AppointmentStatus"),CAST($4::text AS "public"."AppointmentStatus"),CAST($5::text AS "public"."AppointmentStatus"))) ORDER BY "public"."appointments"."scheduledDate" ASC OFFSET $6
 GET /portal/agendamentos?_rsc=cham2 200 in 228ms
 â—‹ Compiling /portal/documentos ...
 âœ“ Compiled /portal/documentos in 856ms (1325 modules)
[33m[auth][warn][debug-enabled][0m Read more: https://warnings.authjs.dev
[DEBUG] 2025-12-19T03:44:50.487Z - [AUTH] JWT callback { hasUser: false, trigger: undefined }
[DEBUG] 2025-12-19T03:44:50.487Z - [AUTH] Session callback { hasToken: true }
[DEBUG] 2025-12-19T03:44:50.488Z - [AUTH] Session created { userId: 'fae47148-3f7b-426f-985d-488ba2a850fb', role: 'CUSTOMER' }
prisma:query SELECT "public"."documents"."id", "public"."documents"."userId", "public"."documents"."orderId", "public"."documents"."quoteId", "public"."documents"."type"::text, "public"."documents"."name", "public"."documents"."url", "public"."documents"."mimeType", "public"."documents"."size", "public"."documents"."status"::text, "public"."documents"."signedAt", "public"."documents"."signedBy", "public"."documents"."signatureUrl", "public"."documents"."createdAt", "public"."documents"."updatedAt" FROM "public"."documents" WHERE "public"."documents"."userId" = $1 ORDER BY "public"."documents"."createdAt" DESC OFFSET $2
 GET /icons/icon-144x144.png 404 in 195ms
 GET /portal/documentos?_rsc=1t5cm 200 in 261ms
 GET /icons/icon-144x144.png 404 in 109ms
[DEBUG] 2025-12-19T03:45:53.404Z - [AUTH] JWT callback { hasUser: false, trigger: undefined }
[DEBUG] 2025-12-19T03:45:53.404Z - [AUTH] Session callback { hasToken: true }
[DEBUG] 2025-12-19T03:45:53.404Z - [AUTH] Session created { userId: 'fae47148-3f7b-426f-985d-488ba2a850fb', role: 'CUSTOMER' }
prisma:query SELECT 1
prisma:query SELECT 1
prisma:query SELECT "public"."appointments"."id", "public"."appointments"."userId", "public"."appointments"."orderId", "public"."appointments"."quoteId", "public"."appointments"."type"::text, "public"."appointments"."scheduledDate", "public"."appointments"."scheduledTime", "public"."appointments"."estimatedDuration", "public"."appointments"."addressStreet", "public"."appointments"."addressNumber", "public"."appointments"."addressComplement", "public"."appointments"."addressNeighborhood", "public"."appointments"."addressCity", "public"."appointments"."addressState", "public"."appointments"."addressZipCode", "public"."appointments"."status"::text, "public"."appointments"."assignedToId", "public"."appointments"."notes", "public"."appointments"."completionNotes", "public"."appointments"."reminderSentAt", "public"."appointments"."createdAt", "public"."appointments"."updatedAt", "public"."appointments"."completedAt" FROM "public"."appointments" WHERE ("public"."appointments"."userId" = $1 AND "public"."appointments"."scheduledDate" >= $2 AND "public"."appointments"."status" IN (CAST($3::text AS "public"."AppointmentStatus"),CAST($4::text AS "public"."AppointmentStatus"),CAST($5::text AS "public"."AppointmentStatus"))) ORDER BY "public"."appointments"."scheduledDate" ASC OFFSET $6
prisma:query SELECT "public"."appointments"."id", "public"."appointments"."userId", "public"."appointments"."orderId", "public"."appointments"."quoteId", "public"."appointments"."type"::text, "public"."appointments"."scheduledDate", "public"."appointments"."scheduledTime", "public"."appointments"."estimatedDuration", "public"."appointments"."addressStreet", "public"."appointments"."addressNumber", "public"."appointments"."addressComplement", "public"."appointments"."addressNeighborhood", "public"."appointments"."addressCity", "public"."appointments"."addressState", "public"."appointments"."addressZipCode", "public"."appointments"."status"::text, "public"."appointments"."assignedToId", "public"."appointments"."notes", "public"."appointments"."completionNotes", "public"."appointments"."reminderSentAt", "public"."appointments"."createdAt", "public"."appointments"."updatedAt", "public"."appointments"."completedAt" FROM "public"."appointments" WHERE ("public"."appointments"."userId" = $1 AND ("public"."appointments"."scheduledDate" < $2 OR "public"."appointments"."status" IN (CAST($3::text AS "public"."AppointmentStatus"),CAST($4::text AS "public"."AppointmentStatus"),CAST($5::text AS "public"."AppointmentStatus")))) ORDER BY "public"."appointments"."scheduledDate" DESC LIMIT $6 OFFSET $7
 GET /icons/icon-144x144.png 404 in 157ms
 GET /portal/agendamentos?_rsc=cham2 200 in 212ms
 GET /icons/icon-144x144.png 404 in 86ms
[DEBUG] 2025-12-19T03:45:55.071Z - [AUTH] JWT callback { hasUser: false, trigger: undefined }
[DEBUG] 2025-12-19T03:45:55.072Z - [AUTH] Session callback { hasToken: true }
[DEBUG] 2025-12-19T03:45:55.072Z - [AUTH] Session created { userId: 'fae47148-3f7b-426f-985d-488ba2a850fb', role: 'CUSTOMER' }
prisma:query SELECT "public"."quotes"."id", "public"."quotes"."number", "public"."quotes"."userId", "public"."quotes"."customerName", "public"."quotes"."customerEmail", "public"."quotes"."customerPhone", "public"."quotes"."serviceStreet", "public"."quotes"."serviceNumber", "public"."quotes"."serviceComplement", "public"."quotes"."serviceNeighborhood", "public"."quotes"."serviceCity", "public"."quotes"."serviceState", "public"."quotes"."serviceZipCode", "public"."quotes"."subtotal", "public"."quotes"."discount", "public"."quotes"."total", "public"."quotes"."status"::text, "public"."quotes"."validUntil", "public"."quotes"."internalNotes", "public"."quotes"."customerNotes", "public"."quotes"."source"::text, "public"."quotes"."createdAt", "public"."quotes"."updatedAt", "public"."quotes"."sentAt", "public"."quotes"."viewedAt", "public"."quotes"."acceptedAt" FROM "public"."quotes" WHERE "public"."quotes"."userId" = $1 ORDER BY "public"."quotes"."createdAt" DESC OFFSET $2
 GET /icons/icon-144x144.png 404 in 156ms
prisma:query SELECT "public"."quote_items"."id", "public"."quote_items"."quoteId", "public"."quote_items"."productId", "public"."quote_items"."description", "public"."quote_items"."specifications", "public"."quote_items"."width", "public"."quote_items"."height", "public"."quote_items"."quantity", "public"."quote_items"."color", "public"."quote_items"."finish", "public"."quote_items"."thickness", "public"."quote_items"."glassType", "public"."quote_items"."glassColor", "public"."quote_items"."model", "public"."quote_items"."unitPrice", "public"."quote_items"."totalPrice", "public"."quote_items"."customerImages" FROM "public"."quote_items" WHERE "public"."quote_items"."quoteId" IN ($1,$2) OFFSET $3
 GET /portal/orcamentos?_rsc=fkd23 200 in 232ms
 GET /icons/icon-144x144.png 404 in 90ms
[DEBUG] 2025-12-19T03:45:57.924Z - [AUTH] JWT callback { hasUser: false, trigger: undefined }
[DEBUG] 2025-12-19T03:45:57.924Z - [AUTH] Session callback { hasToken: true }
[DEBUG] 2025-12-19T03:45:57.924Z - [AUTH] Session created { userId: 'fae47148-3f7b-426f-985d-488ba2a850fb', role: 'CUSTOMER' }
prisma:query SELECT "public"."quotes"."id", "public"."quotes"."number", "public"."quotes"."userId", "public"."quotes"."customerName", "public"."quotes"."customerEmail", "public"."quotes"."customerPhone", "public"."quotes"."serviceStreet", "public"."quotes"."serviceNumber", "public"."quotes"."serviceComplement", "public"."quotes"."serviceNeighborhood", "public"."quotes"."serviceCity", "public"."quotes"."serviceState", "public"."quotes"."serviceZipCode", "public"."quotes"."subtotal", "public"."quotes"."discount", "public"."quotes"."total", "public"."quotes"."status"::text, "public"."quotes"."validUntil", "public"."quotes"."internalNotes", "public"."quotes"."customerNotes", "public"."quotes"."source"::text, "public"."quotes"."createdAt", "public"."quotes"."updatedAt", "public"."quotes"."sentAt", "public"."quotes"."viewedAt", "public"."quotes"."acceptedAt" FROM "public"."quotes" WHERE ("public"."quotes"."id" = $1 AND 1=1) LIMIT $2 OFFSET $3
prisma:query SELECT "public"."quote_items"."id", "public"."quote_items"."quoteId", "public"."quote_items"."productId", "public"."quote_items"."description", "public"."quote_items"."specifications", "public"."quote_items"."width", "public"."quote_items"."height", "public"."quote_items"."quantity", "public"."quote_items"."color", "public"."quote_items"."finish", "public"."quote_items"."thickness", "public"."quote_items"."glassType", "public"."quote_items"."glassColor", "public"."quote_items"."model", "public"."quote_items"."unitPrice", "public"."quote_items"."totalPrice", "public"."quote_items"."customerImages" FROM "public"."quote_items" WHERE "public"."quote_items"."quoteId" IN ($1) OFFSET $2
prisma:query SELECT "public"."products"."id", "public"."products"."name", "public"."products"."slug", "public"."products"."thumbnail", "public"."products"."category"::text FROM "public"."products" WHERE "public"."products"."id" IN ($1) OFFSET $2
prisma:query SELECT "public"."users"."id", "public"."users"."name", "public"."users"."email", "public"."users"."phone" FROM "public"."users" WHERE "public"."users"."id" IN ($1) OFFSET $2
 GET /api/quotes/0a595f6a-3b92-438f-8410-2d8b0bc4bae8 200 in 192ms
 GET /icons/icon-144x144.png 404 in 198ms
[DEBUG] 2025-12-19T03:45:58.071Z - [AUTH] JWT callback { hasUser: false, trigger: undefined }
[DEBUG] 2025-12-19T03:45:58.071Z - [AUTH] Session callback { hasToken: true }
[DEBUG] 2025-12-19T03:45:58.072Z - [AUTH] Session created { userId: 'fae47148-3f7b-426f-985d-488ba2a850fb', role: 'CUSTOMER' }
prisma:query SELECT "public"."quotes"."id", "public"."quotes"."number", "public"."quotes"."userId", "public"."quotes"."customerName", "public"."quotes"."customerEmail", "public"."quotes"."customerPhone", "public"."quotes"."serviceStreet", "public"."quotes"."serviceNumber", "public"."quotes"."serviceComplement", "public"."quotes"."serviceNeighborhood", "public"."quotes"."serviceCity", "public"."quotes"."serviceState", "public"."quotes"."serviceZipCode", "public"."quotes"."subtotal", "public"."quotes"."discount", "public"."quotes"."total", "public"."quotes"."status"::text, "public"."quotes"."validUntil", "public"."quotes"."internalNotes", "public"."quotes"."customerNotes", "public"."quotes"."source"::text, "public"."quotes"."createdAt", "public"."quotes"."updatedAt", "public"."quotes"."sentAt", "public"."quotes"."viewedAt", "public"."quotes"."acceptedAt" FROM "public"."quotes" WHERE ("public"."quotes"."id" = $1 AND 1=1) LIMIT $2 OFFSET $3
prisma:query SELECT "public"."quote_items"."id", "public"."quote_items"."quoteId", "public"."quote_items"."productId", "public"."quote_items"."description", "public"."quote_items"."specifications", "public"."quote_items"."width", "public"."quote_items"."height", "public"."quote_items"."quantity", "public"."quote_items"."color", "public"."quote_items"."finish", "public"."quote_items"."thickness", "public"."quote_items"."glassType", "public"."quote_items"."glassColor", "public"."quote_items"."model", "public"."quote_items"."unitPrice", "public"."quote_items"."totalPrice", "public"."quote_items"."customerImages" FROM "public"."quote_items" WHERE "public"."quote_items"."quoteId" IN ($1) OFFSET $2
prisma:query SELECT "public"."products"."id", "public"."products"."name", "public"."products"."slug", "public"."products"."thumbnail", "public"."products"."category"::text FROM "public"."products" WHERE "public"."products"."id" IN ($1) OFFSET $2
prisma:query SELECT "public"."users"."id", "public"."users"."name", "public"."users"."email", "public"."users"."phone" FROM "public"."users" WHERE "public"."users"."id" IN ($1) OFFSET $2
 GET /api/quotes/0a595f6a-3b92-438f-8410-2d8b0bc4bae8 200 in 113ms
[DEBUG] 2025-12-19T03:46:26.988Z - [AUTH] JWT callback { hasUser: false, trigger: undefined }
[DEBUG] 2025-12-19T03:46:26.989Z - [AUTH] Session callback { hasToken: true }
[DEBUG] 2025-12-19T03:46:26.989Z - [AUTH] Session created { userId: 'fae47148-3f7b-426f-985d-488ba2a850fb', role: 'CUSTOMER' }
prisma:query SELECT 1
prisma:query SELECT 1
prisma:query SELECT "public"."appointments"."id", "public"."appointments"."userId", "public"."appointments"."orderId", "public"."appointments"."quoteId", "public"."appointments"."type"::text, "public"."appointments"."scheduledDate", "public"."appointments"."scheduledTime", "public"."appointments"."estimatedDuration", "public"."appointments"."addressStreet", "public"."appointments"."addressNumber", "public"."appointments"."addressComplement", "public"."appointments"."addressNeighborhood", "public"."appointments"."addressCity", "public"."appointments"."addressState", "public"."appointments"."addressZipCode", "public"."appointments"."status"::text, "public"."appointments"."assignedToId", "public"."appointments"."notes", "public"."appointments"."completionNotes", "public"."appointments"."reminderSentAt", "public"."appointments"."createdAt", "public"."appointments"."updatedAt", "public"."appointments"."completedAt" FROM "public"."appointments" WHERE ("public"."appointments"."userId" = $1 AND "public"."appointments"."scheduledDate" >= $2 AND "public"."appointments"."status" IN (CAST($3::text AS "public"."AppointmentStatus"),CAST($4::text AS "public"."AppointmentStatus"),CAST($5::text AS "public"."AppointmentStatus"))) ORDER BY "public"."appointments"."scheduledDate" ASC OFFSET $6
prisma:query SELECT "public"."appointments"."id", "public"."appointments"."userId", "public"."appointments"."orderId", "public"."appointments"."quoteId", "public"."appointments"."type"::text, "public"."appointments"."scheduledDate", "public"."appointments"."scheduledTime", "public"."appointments"."estimatedDuration", "public"."appointments"."addressStreet", "public"."appointments"."addressNumber", "public"."appointments"."addressComplement", "public"."appointments"."addressNeighborhood", "public"."appointments"."addressCity", "public"."appointments"."addressState", "public"."appointments"."addressZipCode", "public"."appointments"."status"::text, "public"."appointments"."assignedToId", "public"."appointments"."notes", "public"."appointments"."completionNotes", "public"."appointments"."reminderSentAt", "public"."appointments"."createdAt", "public"."appointments"."updatedAt", "public"."appointments"."completedAt" FROM "public"."appointments" WHERE ("public"."appointments"."userId" = $1 AND ("public"."appointments"."scheduledDate" < $2 OR "public"."appointments"."status" IN (CAST($3::text AS "public"."AppointmentStatus"),CAST($4::text AS "public"."AppointmentStatus"),CAST($5::text AS "public"."AppointmentStatus")))) ORDER BY "public"."appointments"."scheduledDate" DESC LIMIT $6 OFFSET $7
 GET /portal/agendamentos?_rsc=cham2 200 in 244ms
 GET /icons/icon-144x144.png 404 in 189ms
 GET /icons/icon-144x144.png 404 in 83ms
[DEBUG] 2025-12-19T03:46:28.317Z - [AUTH] JWT callback { hasUser: false, trigger: undefined }
[DEBUG] 2025-12-19T03:46:28.317Z - [AUTH] Session callback { hasToken: true }
[DEBUG] 2025-12-19T03:46:28.317Z - [AUTH] Session created { userId: 'fae47148-3f7b-426f-985d-488ba2a850fb', role: 'CUSTOMER' }
prisma:query SELECT "public"."orders"."id", "public"."orders"."number", "public"."orders"."quoteId", "public"."orders"."userId", "public"."orders"."serviceStreet", "public"."orders"."serviceNumber", "public"."orders"."serviceComplement", "public"."orders"."serviceNeighborhood", "public"."orders"."serviceCity", "public"."orders"."serviceState", "public"."orders"."serviceZipCode", "public"."orders"."subtotal", "public"."orders"."discount", "public"."orders"."installationFee", "public"."orders"."total", "public"."orders"."paymentStatus"::text, "public"."orders"."paymentMethod"::text, "public"."orders"."paidAmount", "public"."orders"."stripeSessionId", "public"."orders"."stripePaymentIntentId", "public"."orders"."status"::text, "public"."orders"."estimatedDelivery", "public"."orders"."installedAt", "public"."orders"."completedAt", "public"."orders"."warrantyUntil", "public"."orders"."internalNotes", "public"."orders"."createdAt", "public"."orders"."updatedAt" FROM "public"."orders" WHERE "public"."orders"."userId" = $1 ORDER BY "public"."orders"."createdAt" DESC LIMIT $2 OFFSET $3
prisma:query SELECT "public"."quotes"."id", "public"."quotes"."number", "public"."quotes"."userId", "public"."quotes"."customerName", "public"."quotes"."customerEmail", "public"."quotes"."customerPhone", "public"."quotes"."serviceStreet", "public"."quotes"."serviceNumber", "public"."quotes"."serviceComplement", "public"."quotes"."serviceNeighborhood", "public"."quotes"."serviceCity", "public"."quotes"."serviceState", "public"."quotes"."serviceZipCode", "public"."quotes"."subtotal", "public"."quotes"."discount", "public"."quotes"."total", "public"."quotes"."status"::text, "public"."quotes"."validUntil", "public"."quotes"."internalNotes", "public"."quotes"."customerNotes", "public"."quotes"."source"::text, "public"."quotes"."createdAt", "public"."quotes"."updatedAt", "public"."quotes"."sentAt", "public"."quotes"."viewedAt", "public"."quotes"."acceptedAt" FROM "public"."quotes" WHERE "public"."quotes"."userId" = $1 ORDER BY "public"."quotes"."createdAt" DESC LIMIT $2 OFFSET $3
prisma:query SELECT "public"."appointments"."id", "public"."appointments"."userId", "public"."appointments"."orderId", "public"."appointments"."quoteId", "public"."appointments"."type"::text, "public"."appointments"."scheduledDate", "public"."appointments"."scheduledTime", "public"."appointments"."estimatedDuration", "public"."appointments"."addressStreet", "public"."appointments"."addressNumber", "public"."appointments"."addressComplement", "public"."appointments"."addressNeighborhood", "public"."appointments"."addressCity", "public"."appointments"."addressState", "public"."appointments"."addressZipCode", "public"."appointments"."status"::text, "public"."appointments"."assignedToId", "public"."appointments"."notes", "public"."appointments"."completionNotes", "public"."appointments"."reminderSentAt", "public"."appointments"."createdAt", "public"."appointments"."updatedAt", "public"."appointments"."completedAt" FROM "public"."appointments" WHERE ("public"."appointments"."userId" = $1 AND "public"."appointments"."scheduledDate" >= $2 AND "public"."appointments"."status" IN (CAST($3::text AS "public"."AppointmentStatus"),CAST($4::text AS "public"."AppointmentStatus"))) ORDER BY "public"."appointments"."scheduledDate" ASC LIMIT $5 OFFSET $6
prisma:query SELECT 1
prisma:query SELECT COUNT(*) AS "_count$_all" FROM (SELECT "public"."orders"."id" FROM "public"."orders" WHERE "public"."orders"."userId" = $1 OFFSET $2) AS "sub"
prisma:query SELECT COUNT(*) AS "_count$_all" FROM (SELECT "public"."orders"."id" FROM "public"."orders" WHERE ("public"."orders"."userId" = $1 AND "public"."orders"."status" NOT IN (CAST($2::text AS "public"."OrderStatus"),CAST($3::text AS "public"."OrderStatus"))) OFFSET $4) AS "sub"
prisma:query SELECT COUNT(*) AS "_count$_all" FROM (SELECT "public"."quotes"."id" FROM "public"."quotes" WHERE ("public"."quotes"."userId" = $1 AND "public"."quotes"."status" IN (CAST($2::text AS "public"."QuoteStatus"),CAST($3::text AS "public"."QuoteStatus"))) OFFSET $4) AS "sub"
 GET /portal?_rsc=17gzd 200 in 227ms
 GET /icons/icon-144x144.png 404 in 183ms
 GET /icons/icon-144x144.png 404 in 114ms
 GET /.well-known/appspecific/com.chrome.devtools.json 404 in 288ms
 GET / 200 in 817ms
 GET /images/hero-pattern.svg 404 in 240ms
 GET /images/cta-pattern.svg 404 in 373ms
 â—‹ Compiling /manifest.webmanifest ...
 âœ“ Compiled /api/auth/[...nextauth] in 6.2s (800 modules)
 âœ“ Compiled (802 modules)
[33m[auth][warn][debug-enabled][0m Read more: https://warnings.authjs.dev
 GET /manifest.webmanifest 200 in 9129ms
[DEBUG] 2025-12-19T03:48:00.221Z - [AUTH] JWT callback { hasUser: false, trigger: undefined }
[DEBUG] 2025-12-19T03:48:00.222Z - [AUTH] Session callback { hasToken: true }
[DEBUG] 2025-12-19T03:48:00.223Z - [AUTH] Session created { userId: 'fae47148-3f7b-426f-985d-488ba2a850fb', role: 'CUSTOMER' }
 GET /api/auth/session 200 in 6345ms
[DEBUG] 2025-12-19T03:48:00.801Z - [AUTH] JWT callback { hasUser: false, trigger: undefined }
[DEBUG] 2025-12-19T03:48:00.802Z - [AUTH] Session callback { hasToken: true }
[DEBUG] 2025-12-19T03:48:00.802Z - [AUTH] Session created { userId: 'fae47148-3f7b-426f-985d-488ba2a850fb', role: 'CUSTOMER' }
 GET /api/auth/session 200 in 518ms
[DEBUG] 2025-12-19T03:48:01.309Z - [AUTH] JWT callback { hasUser: false, trigger: undefined }
[DEBUG] 2025-12-19T03:48:01.309Z - [AUTH] Session callback { hasToken: true }
[DEBUG] 2025-12-19T03:48:01.309Z - [AUTH] Session created { userId: 'fae47148-3f7b-426f-985d-488ba2a850fb', role: 'CUSTOMER' }
 GET /api/auth/session 200 in 455ms
[DEBUG] 2025-12-19T03:48:01.707Z - [AUTH] JWT callback { hasUser: false, trigger: undefined }
[DEBUG] 2025-12-19T03:48:01.708Z - [AUTH] Session callback { hasToken: true }
[DEBUG] 2025-12-19T03:48:01.708Z - [AUTH] Session created { userId: 'fae47148-3f7b-426f-985d-488ba2a850fb', role: 'CUSTOMER' }
 GET /api/auth/session 200 in 364ms
 âœ“ Compiled in 7.9s (1332 modules)
 âœ“ Compiled in 6.2s (1332 modules)
 âœ“ Compiled in 1ms (802 modules)
 âœ“ Compiled in 5.1s (1332 modules)
 GET /images/cta-pattern.svg 404 in 11608ms
 GET /images/hero-pattern.svg 404 in 11625ms
 GET /images/cta-pattern.svg 404 in 11648ms
 GET /images/hero-pattern.svg 404 in 11680ms
 GET /icons/icon-144x144.png 404 in 12130ms
 âœ“ Compiled in 5.1s (1332 modules)
 âœ“ Compiled in 8.3s (1332 modules)
 âœ“ Compiled in 12.5s (1296 modules)
 âœ“ Compiled in 2ms (766 modules)
 âœ“ Compiled in 8.5s (1296 modules)
 GET /images/cta-pattern.svg 404 in 22479ms
 GET /images/hero-pattern.svg 404 in 22502ms
 GET /images/hero-pattern.svg 404 in 22488ms
 GET /images/cta-pattern.svg 404 in 22502ms
 âœ“ Compiled in 5ms (766 modules)
 GET /images/hero-pattern.svg 404 in 1383ms
 GET /images/cta-pattern.svg 404 in 1407ms
 GET /images/hero-pattern.svg 404 in 1430ms
 GET /images/cta-pattern.svg 404 in 1409ms
 âœ“ Compiled in 12.5s (1296 modules)
 âœ“ Compiled in 5.8s (1296 modules)
 âœ“ Compiled in 1ms (766 modules)
 âœ“ Compiled in 4.4s (1296 modules)
 GET /images/cta-pattern.svg 404 in 9773ms
 GET /images/hero-pattern.svg 404 in 9786ms
 GET /images/cta-pattern.svg 404 in 9818ms
 GET /images/hero-pattern.svg 404 in 9864ms
 âœ“ Compiled in 3.4s (1296 modules)
 âœ“ Compiled in 1ms (766 modules)
 GET /images/hero-pattern.svg 404 in 825ms
 GET /images/cta-pattern.svg 404 in 819ms
 GET /images/cta-pattern.svg 404 in 447ms
 GET /images/hero-pattern.svg 404 in 470ms
 âœ“ Compiled in 7.5s (1295 modules)
 â—‹ Compiling /_not-found ...
 âœ“ Compiled /_not-found in 1112ms (766 modules)
 GET /images/hero-pattern.svg 404 in 1950ms
 GET /images/cta-pattern.svg 404 in 2075ms
 GET /images/hero-pattern.svg 404 in 2102ms
 GET /images/cta-pattern.svg 404 in 1926ms
 âœ“ Compiled in 6.3s (1296 modules)
 GET /images/cta-pattern.svg 404 in 483ms
 GET /images/hero-pattern.svg 404 in 511ms
 GET /images/cta-pattern.svg 404 in 442ms
 GET /images/hero-pattern.svg 404 in 464ms
 âœ“ Compiled in 4.6s (1296 modules)
 GET /images/cta-pattern.svg 404 in 744ms
 GET /images/hero-pattern.svg 404 in 756ms
 GET /images/hero-pattern.svg 404 in 792ms
 GET /images/cta-pattern.svg 404 in 619ms
 âœ“ Compiled in 2.7s (530 modules)
 âœ“ Compiled in 1931ms (530 modules)
 GET /images/cta-pattern.svg 404 in 379ms
 GET /images/hero-pattern.svg 404 in 426ms
 GET /images/cta-pattern.svg 404 in 503ms
 GET /images/hero-pattern.svg 404 in 501ms
 âœ“ Compiled in 1391ms (530 modules)
 GET /images/hero-pattern.svg 404 in 491ms
 GET /images/cta-pattern.svg 404 in 537ms
 GET /images/hero-pattern.svg 404 in 553ms
 GET /images/cta-pattern.svg 404 in 509ms
 â—‹ Compiling /api/auth/[...nextauth] ...
 âœ“ Compiled /api/auth/[...nextauth] in 3.1s (769 modules)
[33m[auth][warn][debug-enabled][0m Read more: https://warnings.authjs.dev
 GET /api/auth/csrf 200 in 3827ms
 POST /api/auth/signout 200 in 148ms
 â—‹ Compiling /_not-found ...
 GET / 200 in 2236ms
 âœ“ Compiled /_not-found in 1758ms (770 modules)
 GET /.well-known/appspecific/com.chrome.devtools.json 404 in 2902ms
 GET /images/hero-pattern.svg 404 in 2651ms
 GET /images/cta-pattern.svg 404 in 1092ms
[33m[auth][warn][debug-enabled][0m Read more: https://warnings.authjs.dev
 GET /api/auth/session 200 in 958ms
 â—‹ Compiling /manifest.webmanifest ...
 âœ“ Compiled /manifest.webmanifest in 3.3s (802 modules)
 âœ“ Compiled /login in 1ms (802 modules)
 âœ“ Compiled in 1ms (824 modules)
[33m[auth][warn][debug-enabled][0m Read more: https://warnings.authjs.dev
 GET /manifest.webmanifest 200 in 8881ms
 GET /api/auth/session 200 in 7591ms
 GET /api/auth/session 200 in 257ms
 GET /api/auth/session 200 in 249ms
 GET /icons/icon-144x144.png 404 in 480ms
 GET /api/auth/providers 200 in 112ms
 GET /api/auth/csrf 200 in 84ms
[DEBUG] 2025-12-19T03:57:14.330Z - [AUTH] Starting authorization { email: 'admin@versatiglass.com.br' }
[DEBUG] 2025-12-19T03:57:14.333Z - [AUTH] Credentials validated { email: 'admin@versatiglass.com.br' }
prisma:query SELECT "public"."users"."id", "public"."users"."email", "public"."users"."password", "public"."users"."name", "public"."users"."phone", "public"."users"."cpfCnpj", "public"."users"."street", "public"."users"."number", "public"."users"."complement", "public"."users"."neighborhood", "public"."users"."city", "public"."users"."state", "public"."users"."zipCode", "public"."users"."role"::text, "public"."users"."emailVerified", "public"."users"."phoneVerified", "public"."users"."authProvider"::text, "public"."users"."googleId", "public"."users"."createdAt", "public"."users"."updatedAt", "public"."users"."lastLoginAt" FROM "public"."users" WHERE ("public"."users"."email" = $1 AND 1=1) LIMIT $2 OFFSET $3
[DEBUG] 2025-12-19T03:57:14.474Z - [AUTH] User found { email: 'admin@versatiglass.com.br', hasPassword: true }
[DEBUG] 2025-12-19T03:57:15.385Z - [AUTH] Password comparison result { isValid: true }
[DEBUG] 2025-12-19T03:57:15.385Z - [AUTH] Authentication successful {
  userId: '81628a46-5e97-437a-9488-32d6a79e9d58',
  email: 'admin@versatiglass.com.br'
}
[DEBUG] 2025-12-19T03:57:15.386Z - [AUTH] SignIn callback {
  provider: 'credentials',
  userId: '81628a46-5e97-437a-9488-32d6a79e9d58',
  email: 'admin@versatiglass.com.br'
}
[DEBUG] 2025-12-19T03:57:15.386Z - [AUTH] JWT callback { hasUser: true, trigger: 'signIn' }
[DEBUG] 2025-12-19T03:57:15.386Z - [AUTH] JWT - User added to token { userId: '81628a46-5e97-437a-9488-32d6a79e9d58', role: 'ADMIN' }
 POST /api/auth/callback/credentials? 200 in 1161ms
[DEBUG] 2025-12-19T03:57:15.505Z - [AUTH] JWT callback { hasUser: false, trigger: undefined }
[DEBUG] 2025-12-19T03:57:15.506Z - [AUTH] Session callback { hasToken: true }
[DEBUG] 2025-12-19T03:57:15.506Z - [AUTH] Session created { userId: '81628a46-5e97-437a-9488-32d6a79e9d58', role: 'ADMIN' }
 GET /api/auth/session 200 in 97ms
[DEBUG] 2025-12-19T03:57:15.616Z - [AUTH] JWT callback { hasUser: false, trigger: undefined }
[DEBUG] 2025-12-19T03:57:15.616Z - [AUTH] Session callback { hasToken: true }
[DEBUG] 2025-12-19T03:57:15.616Z - [AUTH] Session created { userId: '81628a46-5e97-437a-9488-32d6a79e9d58', role: 'ADMIN' }
 GET /api/auth/session 200 in 96ms
[DEBUG] 2025-12-19T03:57:15.727Z - [AUTH] JWT callback { hasUser: false, trigger: undefined }
[DEBUG] 2025-12-19T03:57:15.727Z - [AUTH] Session callback { hasToken: true }
[DEBUG] 2025-12-19T03:57:15.727Z - [AUTH] Session created { userId: '81628a46-5e97-437a-9488-32d6a79e9d58', role: 'ADMIN' }
 GET /api/auth/session 200 in 96ms
 â—‹ Compiling /admin ...
 âœ“ Compiled /admin in 5.3s (1397 modules)
[33m[auth][warn][debug-enabled][0m Read more: https://warnings.authjs.dev
prisma:query SELECT COUNT(*) AS "_count$_all" FROM (SELECT "public"."orders"."id" FROM "public"."orders" WHERE 1=1 OFFSET $1) AS "sub"
prisma:query SELECT SUM("total") AS "_sum$total" FROM (SELECT "public"."orders"."total" FROM "public"."orders" WHERE ("public"."orders"."createdAt" >= $1 AND "public"."orders"."createdAt" <= $2 AND "public"."orders"."paymentStatus" = CAST($3::text AS "public"."PaymentStatus")) OFFSET $4) AS "sub"
prisma:query SELECT COUNT(*) AS "_count$_all" FROM (SELECT "public"."conversations"."id" FROM "public"."conversations" WHERE "public"."conversations"."status" = CAST($1::text AS "public"."ConversationStatus") OFFSET $2) AS "sub"
prisma:query SELECT "public"."orders"."id", "public"."orders"."number", "public"."orders"."quoteId", "public"."orders"."userId", "public"."orders"."serviceStreet", "public"."orders"."serviceNumber", "public"."orders"."serviceComplement", "public"."orders"."serviceNeighborhood", "public"."orders"."serviceCity", "public"."orders"."serviceState", "public"."orders"."serviceZipCode", "public"."orders"."subtotal", "public"."orders"."discount", "public"."orders"."installationFee", "public"."orders"."total", "public"."orders"."paymentStatus"::text, "public"."orders"."paymentMethod"::text, "public"."orders"."paidAmount", "public"."orders"."stripeSessionId", "public"."orders"."stripePaymentIntentId", "public"."orders"."status"::text, "public"."orders"."estimatedDelivery", "public"."orders"."installedAt", "public"."orders"."completedAt", "public"."orders"."warrantyUntil", "public"."orders"."internalNotes", "public"."orders"."createdAt", "public"."orders"."updatedAt" FROM "public"."orders" WHERE 1=1 ORDER BY "public"."orders"."createdAt" DESC LIMIT $1 OFFSET $2
prisma:query SELECT "public"."users"."id", "public"."users"."name" FROM "public"."users" WHERE "public"."users"."id" IN ($1) OFFSET $2
prisma:query SELECT "public"."quotes"."id", "public"."quotes"."number", "public"."quotes"."userId", "public"."quotes"."customerName", "public"."quotes"."customerEmail", "public"."quotes"."customerPhone", "public"."quotes"."serviceStreet", "public"."quotes"."serviceNumber", "public"."quotes"."serviceComplement", "public"."quotes"."serviceNeighborhood", "public"."quotes"."serviceCity", "public"."quotes"."serviceState", "public"."quotes"."serviceZipCode", "public"."quotes"."subtotal", "public"."quotes"."discount", "public"."quotes"."total", "public"."quotes"."status"::text, "public"."quotes"."validUntil", "public"."quotes"."internalNotes", "public"."quotes"."customerNotes", "public"."quotes"."source"::text, "public"."quotes"."createdAt", "public"."quotes"."updatedAt", "public"."quotes"."sentAt", "public"."quotes"."viewedAt", "public"."quotes"."acceptedAt" FROM "public"."quotes" WHERE "public"."quotes"."status" IN (CAST($1::text AS "public"."QuoteStatus"),CAST($2::text AS "public"."QuoteStatus")) ORDER BY "public"."quotes"."createdAt" DESC LIMIT $3 OFFSET $4
prisma:query SELECT COUNT(*) AS "_count$_all" FROM (SELECT "public"."quotes"."id" FROM "public"."quotes" WHERE 1=1 OFFSET $1) AS "sub"
prisma:query SELECT COUNT(*) AS "_count$_all" FROM (SELECT "public"."appointments"."id" FROM "public"."appointments" WHERE ("public"."appointments"."scheduledDate" >= $1 AND "public"."appointments"."scheduledDate" < $2 AND "public"."appointments"."status" IN (CAST($3::text AS "public"."AppointmentStatus"),CAST($4::text AS "public"."AppointmentStatus"))) OFFSET $5) AS "sub"
prisma:query SELECT COUNT(*) AS "_count$_all" FROM (SELECT "public"."orders"."id" FROM "public"."orders" WHERE ("public"."orders"."createdAt" >= $1 AND "public"."orders"."createdAt" <= $2) OFFSET $3) AS "sub"
prisma:query SELECT COUNT(*) AS "_count$_all" FROM (SELECT "public"."orders"."id" FROM "public"."orders" WHERE "public"."orders"."status" NOT IN (CAST($1::text AS "public"."OrderStatus"),CAST($2::text AS "public"."OrderStatus")) OFFSET $3) AS "sub"
[DEBUG] 2025-12-19T03:57:22.526Z - [AUTH] JWT callback { hasUser: false, trigger: undefined }
[DEBUG] 2025-12-19T03:57:22.527Z - [AUTH] Session callback { hasToken: true }
[DEBUG] 2025-12-19T03:57:22.527Z - [AUTH] Session created { userId: '81628a46-5e97-437a-9488-32d6a79e9d58', role: 'ADMIN' }
prisma:query SELECT COUNT(*) AS "_count$_all" FROM (SELECT "public"."users"."id" FROM "public"."users" WHERE "public"."users"."role" = CAST($1::text AS "public"."Role") OFFSET $2) AS "sub"
prisma:query SELECT COUNT(*) AS "_count$_all" FROM (SELECT "public"."orders"."id" FROM "public"."orders" WHERE "public"."orders"."createdAt" >= $1 OFFSET $2) AS "sub"
prisma:query SELECT SUM("total") AS "_sum$total" FROM (SELECT "public"."orders"."total" FROM "public"."orders" WHERE ("public"."orders"."createdAt" >= $1 AND "public"."orders"."paymentStatus" = CAST($2::text AS "public"."PaymentStatus")) OFFSET $3) AS "sub"
prisma:query SELECT COUNT(*) AS "_count$_all" FROM (SELECT "public"."quotes"."id" FROM "public"."quotes" WHERE "public"."quotes"."status" IN (CAST($1::text AS "public"."QuoteStatus"),CAST($2::text AS "public"."QuoteStatus")) OFFSET $3) AS "sub"
 GET /.well-known/appspecific/com.chrome.devtools.json 404 in 367ms
 GET /admin 200 in 7181ms
 GET /images/hero-pattern.svg 404 in 322ms
 GET /images/cta-pattern.svg 404 in 305ms
 GET /icons/icon-144x144.png 404 in 400ms
 â—‹ Compiling /api/whatsapp/stream ...
 âœ“ Compiled /api/whatsapp/stream in 978ms (844 modules)
[33m[auth][warn][debug-enabled][0m Read more: https://warnings.authjs.dev
[DEBUG] 2025-12-19T03:57:27.207Z - [AUTH] JWT callback { hasUser: false, trigger: undefined }
[DEBUG] 2025-12-19T03:57:27.208Z - [AUTH] Session callback { hasToken: true }
[DEBUG] 2025-12-19T03:57:27.208Z - [AUTH] Session created { userId: '81628a46-5e97-437a-9488-32d6a79e9d58', role: 'ADMIN' }
 GET /api/auth/session 200 in 2005ms
[DEBUG] 2025-12-19T03:57:27.296Z - [AUTH] JWT callback { hasUser: false, trigger: undefined }
[DEBUG] 2025-12-19T03:57:27.297Z - [AUTH] Session callback { hasToken: true }
[DEBUG] 2025-12-19T03:57:27.297Z - [AUTH] Session created { userId: '81628a46-5e97-437a-9488-32d6a79e9d58', role: 'ADMIN' }
[DEBUG] 2025-12-19T03:57:27.407Z - [AUTH] JWT callback { hasUser: false, trigger: undefined }
[DEBUG] 2025-12-19T03:57:27.407Z - [AUTH] Session callback { hasToken: true }
[DEBUG] 2025-12-19T03:57:27.408Z - [AUTH] Session created { userId: '81628a46-5e97-437a-9488-32d6a79e9d58', role: 'ADMIN' }
 GET /api/auth/session 200 in 160ms
[DEBUG] 2025-12-19T03:57:27.534Z - [AUTH] JWT callback { hasUser: false, trigger: undefined }
[DEBUG] 2025-12-19T03:57:27.535Z - [AUTH] Session callback { hasToken: true }
[DEBUG] 2025-12-19T03:57:27.535Z - [AUTH] Session created { userId: '81628a46-5e97-437a-9488-32d6a79e9d58', role: 'ADMIN' }
 GET /api/auth/session 200 in 111ms
[DEBUG] 2025-12-19T03:57:27.699Z - [AUTH] JWT callback { hasUser: false, trigger: undefined }
[DEBUG] 2025-12-19T03:57:27.699Z - [AUTH] Session callback { hasToken: true }
[DEBUG] 2025-12-19T03:57:27.699Z - [AUTH] Session created { userId: '81628a46-5e97-437a-9488-32d6a79e9d58', role: 'ADMIN' }
 GET /api/auth/session 200 in 150ms
[SSE] Error fetching messages: TypeError: Cannot read properties of undefined (reading 'findMany')
    at Timeout.eval [as _onTimeout] (webpack-internal:///(rsc)/./src/app/api/whatsapp/stream/route.ts:42:111)
    at listOnTimeout (node:internal/timers:594:17)
    at process.processTimers (node:internal/timers:529:7)
[SSE] Error fetching messages: TypeError: Cannot read properties of undefined (reading 'findMany')
    at Timeout.eval [as _onTimeout] (webpack-internal:///(rsc)/./src/app/api/whatsapp/stream/route.ts:42:111)
    at listOnTimeout (node:internal/timers:594:17)
    at process.processTimers (node:internal/timers:529:7)
 GET /api/whatsapp/stream 200 in 9307ms
 GET /.well-known/appspecific/com.chrome.devtools.json 404 in 233ms
 GET /images/hero-pattern.svg 404 in 194ms
 GET / 200 in 853ms
 GET /images/cta-pattern.svg 404 in 461ms
 GET /manifest.webmanifest 200 in 494ms
[DEBUG] 2025-12-19T03:57:38.546Z - [AUTH] JWT callback { hasUser: false, trigger: undefined }
[DEBUG] 2025-12-19T03:57:38.546Z - [AUTH] Session callback { hasToken: true }
[DEBUG] 2025-12-19T03:57:38.547Z - [AUTH] Session created { userId: '81628a46-5e97-437a-9488-32d6a79e9d58', role: 'ADMIN' }
 GET /api/auth/session 200 in 394ms
[DEBUG] 2025-12-19T03:57:38.814Z - [AUTH] JWT callback { hasUser: false, trigger: undefined }
[DEBUG] 2025-12-19T03:57:38.815Z - [AUTH] Session callback { hasToken: true }
[DEBUG] 2025-12-19T03:57:38.815Z - [AUTH] Session created { userId: '81628a46-5e97-437a-9488-32d6a79e9d58', role: 'ADMIN' }
 GET /api/auth/session 200 in 236ms
[DEBUG] 2025-12-19T03:57:39.011Z - [AUTH] JWT callback { hasUser: false, trigger: undefined }
[DEBUG] 2025-12-19T03:57:39.011Z - [AUTH] Session callback { hasToken: true }
[DEBUG] 2025-12-19T03:57:39.011Z - [AUTH] Session created { userId: '81628a46-5e97-437a-9488-32d6a79e9d58', role: 'ADMIN' }
 GET /api/auth/session 200 in 158ms
[DEBUG] 2025-12-19T03:57:39.183Z - [AUTH] JWT callback { hasUser: false, trigger: undefined }
[DEBUG] 2025-12-19T03:57:39.185Z - [AUTH] Session callback { hasToken: true }
[DEBUG] 2025-12-19T03:57:39.185Z - [AUTH] Session created { userId: '81628a46-5e97-437a-9488-32d6a79e9d58', role: 'ADMIN' }
 GET /api/auth/session 200 in 155ms
[DEBUG] 2025-12-19T03:58:22.525Z - [AUTH] JWT callback { hasUser: false, trigger: undefined }
[DEBUG] 2025-12-19T03:58:22.526Z - [AUTH] Session callback { hasToken: true }
[DEBUG] 2025-12-19T03:58:22.527Z - [AUTH] Session created { userId: '81628a46-5e97-437a-9488-32d6a79e9d58', role: 'ADMIN' }
 GET /portal?_rsc=19zvn 200 in 275ms
[DEBUG] 2025-12-19T03:58:23.124Z - [AUTH] JWT callback { hasUser: false, trigger: undefined }
[DEBUG] 2025-12-19T03:58:23.125Z - [AUTH] Session callback { hasToken: true }
[DEBUG] 2025-12-19T03:58:23.125Z - [AUTH] Session created { userId: '81628a46-5e97-437a-9488-32d6a79e9d58', role: 'ADMIN' }
prisma:query SELECT 1
prisma:query SELECT 1
prisma:query SELECT 1
prisma:query SELECT "public"."orders"."id", "public"."orders"."number", "public"."orders"."quoteId", "public"."orders"."userId", "public"."orders"."serviceStreet", "public"."orders"."serviceNumber", "public"."orders"."serviceComplement", "public"."orders"."serviceNeighborhood", "public"."orders"."serviceCity", "public"."orders"."serviceState", "public"."orders"."serviceZipCode", "public"."orders"."subtotal", "public"."orders"."discount", "public"."orders"."installationFee", "public"."orders"."total", "public"."orders"."paymentStatus"::text, "public"."orders"."paymentMethod"::text, "public"."orders"."paidAmount", "public"."orders"."stripeSessionId", "public"."orders"."stripePaymentIntentId", "public"."orders"."status"::text, "public"."orders"."estimatedDelivery", "public"."orders"."installedAt", "public"."orders"."completedAt", "public"."orders"."warrantyUntil", "public"."orders"."internalNotes", "public"."orders"."createdAt", "public"."orders"."updatedAt" FROM "public"."orders" WHERE "public"."orders"."userId" = $1 ORDER BY "public"."orders"."createdAt" DESC LIMIT $2 OFFSET $3
prisma:query SELECT "public"."quotes"."id", "public"."quotes"."number", "public"."quotes"."userId", "public"."quotes"."customerName", "public"."quotes"."customerEmail", "public"."quotes"."customerPhone", "public"."quotes"."serviceStreet", "public"."quotes"."serviceNumber", "public"."quotes"."serviceComplement", "public"."quotes"."serviceNeighborhood", "public"."quotes"."serviceCity", "public"."quotes"."serviceState", "public"."quotes"."serviceZipCode", "public"."quotes"."subtotal", "public"."quotes"."discount", "public"."quotes"."total", "public"."quotes"."status"::text, "public"."quotes"."validUntil", "public"."quotes"."internalNotes", "public"."quotes"."customerNotes", "public"."quotes"."source"::text, "public"."quotes"."createdAt", "public"."quotes"."updatedAt", "public"."quotes"."sentAt", "public"."quotes"."viewedAt", "public"."quotes"."acceptedAt" FROM "public"."quotes" WHERE "public"."quotes"."userId" = $1 ORDER BY "public"."quotes"."createdAt" DESC LIMIT $2 OFFSET $3
prisma:query SELECT "public"."appointments"."id", "public"."appointments"."userId", "public"."appointments"."orderId", "public"."appointments"."quoteId", "public"."appointments"."type"::text, "public"."appointments"."scheduledDate", "public"."appointments"."scheduledTime", "public"."appointments"."estimatedDuration", "public"."appointments"."addressStreet", "public"."appointments"."addressNumber", "public"."appointments"."addressComplement", "public"."appointments"."addressNeighborhood", "public"."appointments"."addressCity", "public"."appointments"."addressState", "public"."appointments"."addressZipCode", "public"."appointments"."status"::text, "public"."appointments"."assignedToId", "public"."appointments"."notes", "public"."appointments"."completionNotes", "public"."appointments"."reminderSentAt", "public"."appointments"."createdAt", "public"."appointments"."updatedAt", "public"."appointments"."completedAt" FROM "public"."appointments" WHERE ("public"."appointments"."userId" = $1 AND "public"."appointments"."scheduledDate" >= $2 AND "public"."appointments"."status" IN (CAST($3::text AS "public"."AppointmentStatus"),CAST($4::text AS "public"."AppointmentStatus"))) ORDER BY "public"."appointments"."scheduledDate" ASC LIMIT $5 OFFSET $6
prisma:query SELECT COUNT(*) AS "_count$_all" FROM (SELECT "public"."orders"."id" FROM "public"."orders" WHERE "public"."orders"."userId" = $1 OFFSET $2) AS "sub"
prisma:query SELECT COUNT(*) AS "_count$_all" FROM (SELECT "public"."quotes"."id" FROM "public"."quotes" WHERE ("public"."quotes"."userId" = $1 AND "public"."quotes"."status" IN (CAST($2::text AS "public"."QuoteStatus"),CAST($3::text AS "public"."QuoteStatus"))) OFFSET $4) AS "sub"
prisma:query SELECT COUNT(*) AS "_count$_all" FROM (SELECT "public"."orders"."id" FROM "public"."orders" WHERE ("public"."orders"."userId" = $1 AND "public"."orders"."status" NOT IN (CAST($2::text AS "public"."OrderStatus"),CAST($3::text AS "public"."OrderStatus"))) OFFSET $4) AS "sub"
 GET /portal?_rsc=17gzd 200 in 441ms
 GET /icons/icon-144x144.png 404 in 301ms
 âœ“ Compiled in 4.5s (1347 modules)
[33m[auth][warn][debug-enabled][0m Read more: https://warnings.authjs.dev
[DEBUG] 2025-12-19T03:59:09.886Z - [AUTH] JWT callback { hasUser: false, trigger: undefined }
[DEBUG] 2025-12-19T03:59:09.886Z - [AUTH] Session callback { hasToken: true }
[DEBUG] 2025-12-19T03:59:09.886Z - [AUTH] Session created { userId: '81628a46-5e97-437a-9488-32d6a79e9d58', role: 'ADMIN' }
[DEBUG] 2025-12-19T03:59:09.887Z - [AUTH] JWT callback { hasUser: false, trigger: undefined }
[DEBUG] 2025-12-19T03:59:09.887Z - [AUTH] Session callback { hasToken: true }
[DEBUG] 2025-12-19T03:59:09.888Z - [AUTH] Session created { userId: '81628a46-5e97-437a-9488-32d6a79e9d58', role: 'ADMIN' }
prisma:query SELECT 1
prisma:query SELECT 1
prisma:query SELECT 1
prisma:query SELECT "public"."appointments"."id", "public"."appointments"."userId", "public"."appointments"."orderId", "public"."appointments"."quoteId", "public"."appointments"."type"::text, "public"."appointments"."scheduledDate", "public"."appointments"."scheduledTime", "public"."appointments"."estimatedDuration", "public"."appointments"."addressStreet", "public"."appointments"."addressNumber", "public"."appointments"."addressComplement", "public"."appointments"."addressNeighborhood", "public"."appointments"."addressCity", "public"."appointments"."addressState", "public"."appointments"."addressZipCode", "public"."appointments"."status"::text, "public"."appointments"."assignedToId", "public"."appointments"."notes", "public"."appointments"."completionNotes", "public"."appointments"."reminderSentAt", "public"."appointments"."createdAt", "public"."appointments"."updatedAt", "public"."appointments"."completedAt" FROM "public"."appointments" WHERE ("public"."appointments"."userId" = $1 AND "public"."appointments"."scheduledDate" >= $2 AND "public"."appointments"."status" IN (CAST($3::text AS "public"."AppointmentStatus"),CAST($4::text AS "public"."AppointmentStatus"))) ORDER BY "public"."appointments"."scheduledDate" ASC LIMIT $5 OFFSET $6
prisma:query SELECT "public"."orders"."id", "public"."orders"."number", "public"."orders"."quoteId", "public"."orders"."userId", "public"."orders"."serviceStreet", "public"."orders"."serviceNumber", "public"."orders"."serviceComplement", "public"."orders"."serviceNeighborhood", "public"."orders"."serviceCity", "public"."orders"."serviceState", "public"."orders"."serviceZipCode", "public"."orders"."subtotal", "public"."orders"."discount", "public"."orders"."installationFee", "public"."orders"."total", "public"."orders"."paymentStatus"::text, "public"."orders"."paymentMethod"::text, "public"."orders"."paidAmount", "public"."orders"."stripeSessionId", "public"."orders"."stripePaymentIntentId", "public"."orders"."status"::text, "public"."orders"."estimatedDelivery", "public"."orders"."installedAt", "public"."orders"."completedAt", "public"."orders"."warrantyUntil", "public"."orders"."internalNotes", "public"."orders"."createdAt", "public"."orders"."updatedAt" FROM "public"."orders" WHERE "public"."orders"."userId" = $1 ORDER BY "public"."orders"."createdAt" DESC LIMIT $2 OFFSET $3
prisma:query SELECT "public"."quotes"."id", "public"."quotes"."number", "public"."quotes"."userId", "public"."quotes"."customerName", "public"."quotes"."customerEmail", "public"."quotes"."customerPhone", "public"."quotes"."serviceStreet", "public"."quotes"."serviceNumber", "public"."quotes"."serviceComplement", "public"."quotes"."serviceNeighborhood", "public"."quotes"."serviceCity", "public"."quotes"."serviceState", "public"."quotes"."serviceZipCode", "public"."quotes"."subtotal", "public"."quotes"."discount", "public"."quotes"."total", "public"."quotes"."status"::text, "public"."quotes"."validUntil", "public"."quotes"."internalNotes", "public"."quotes"."customerNotes", "public"."quotes"."source"::text, "public"."quotes"."createdAt", "public"."quotes"."updatedAt", "public"."quotes"."sentAt", "public"."quotes"."viewedAt", "public"."quotes"."acceptedAt" FROM "public"."quotes" WHERE "public"."quotes"."userId" = $1 ORDER BY "public"."quotes"."createdAt" DESC LIMIT $2 OFFSET $3
prisma:query SELECT COUNT(*) AS "_count$_all" FROM (SELECT "public"."orders"."id" FROM "public"."orders" WHERE ("public"."orders"."userId" = $1 AND "public"."orders"."status" NOT IN (CAST($2::text AS "public"."OrderStatus"),CAST($3::text AS "public"."OrderStatus"))) OFFSET $4) AS "sub"
prisma:query SELECT COUNT(*) AS "_count$_all" FROM (SELECT "public"."orders"."id" FROM "public"."orders" WHERE "public"."orders"."userId" = $1 OFFSET $2) AS "sub"
prisma:query SELECT COUNT(*) AS "_count$_all" FROM (SELECT "public"."quotes"."id" FROM "public"."quotes" WHERE ("public"."quotes"."userId" = $1 AND "public"."quotes"."status" IN (CAST($2::text AS "public"."QuoteStatus"),CAST($3::text AS "public"."QuoteStatus"))) OFFSET $4) AS "sub"
 GET /portal?_rsc=1hazs 200 in 827ms
 GET /images/hero-pattern.svg 404 in 485ms
 GET /images/cta-pattern.svg 404 in 486ms
 GET /.well-known/appspecific/com.chrome.devtools.json 404 in 238ms
 GET / 200 in 709ms
 GET /images/hero-pattern.svg 404 in 431ms
 GET /images/cta-pattern.svg 404 in 528ms
 â—‹ Compiling /manifest.webmanifest ...
 âœ“ Compiled /api/auth/[...nextauth] in 2.4s (835 modules)
 âœ“ Compiled (837 modules)
[33m[auth][warn][debug-enabled][0m Read more: https://warnings.authjs.dev
 GET /manifest.webmanifest 200 in 6204ms
[DEBUG] 2025-12-19T03:59:22.835Z - [AUTH] JWT callback { hasUser: false, trigger: undefined }
[DEBUG] 2025-12-19T03:59:22.836Z - [AUTH] Session callback { hasToken: true }
[DEBUG] 2025-12-19T03:59:22.836Z - [AUTH] Session created { userId: '81628a46-5e97-437a-9488-32d6a79e9d58', role: 'ADMIN' }
 GET /api/auth/session 200 in 6515ms
 âœ“ Compiled in 8.1s (1383 modules)
[33m[auth][warn][debug-enabled][0m Read more: https://warnings.authjs.dev
[DEBUG] 2025-12-19T03:59:31.017Z - [AUTH] JWT callback { hasUser: false, trigger: undefined }
[DEBUG] 2025-12-19T03:59:31.019Z - [AUTH] Session callback { hasToken: true }
[DEBUG] 2025-12-19T03:59:31.019Z - [AUTH] Session created { userId: '81628a46-5e97-437a-9488-32d6a79e9d58', role: 'ADMIN' }
 GET /api/auth/session 200 in 7697ms
[DEBUG] 2025-12-19T03:59:33.218Z - [AUTH] JWT callback { hasUser: false, trigger: undefined }
[DEBUG] 2025-12-19T03:59:33.220Z - [AUTH] Session callback { hasToken: true }
[DEBUG] 2025-12-19T03:59:33.221Z - [AUTH] Session created { userId: '81628a46-5e97-437a-9488-32d6a79e9d58', role: 'ADMIN' }
 GET /api/auth/session 200 in 1816ms
[DEBUG] 2025-12-19T03:59:34.145Z - [AUTH] JWT callback { hasUser: false, trigger: undefined }
[DEBUG] 2025-12-19T03:59:34.146Z - [AUTH] Session callback { hasToken: true }
[DEBUG] 2025-12-19T03:59:34.147Z - [AUTH] Session created { userId: '81628a46-5e97-437a-9488-32d6a79e9d58', role: 'ADMIN' }
 GET /api/auth/session 200 in 855ms
 GET /images/hero-pattern.svg 404 in 1411ms
 GET /images/cta-pattern.svg 404 in 1434ms
 GET /images/cta-pattern.svg 404 in 1410ms
 GET /images/hero-pattern.svg 404 in 1462ms
 GET /icons/icon-144x144.png 404 in 1566ms
 âœ“ Compiled in 12s (1381 modules)
[33m[auth][warn][debug-enabled][0m Read more: https://warnings.authjs.dev
[DEBUG] 2025-12-19T03:59:59.307Z - [AUTH] JWT callback { hasUser: false, trigger: undefined }
[DEBUG] 2025-12-19T03:59:59.308Z - [AUTH] Session callback { hasToken: true }
[DEBUG] 2025-12-19T03:59:59.308Z - [AUTH] Session created { userId: '81628a46-5e97-437a-9488-32d6a79e9d58', role: 'ADMIN' }
 GET /admin?_rsc=19zvn 200 in 10254ms
prisma:query SELECT 1
prisma:query SELECT 1
prisma:query SELECT 1
prisma:query SELECT 1
prisma:query SELECT COUNT(*) AS "_count$_all" FROM (SELECT "public"."orders"."id" FROM "public"."orders" WHERE 1=1 OFFSET $1) AS "sub"
prisma:query SELECT 1
prisma:query SELECT 1
prisma:query SELECT 1
prisma:query SELECT 1
prisma:query SELECT COUNT(*) AS "_count$_all" FROM (SELECT "public"."orders"."id" FROM "public"."orders" WHERE "public"."orders"."createdAt" >= $1 OFFSET $2) AS "sub"
prisma:query SELECT 1
prisma:query SELECT SUM("total") AS "_sum$total" FROM (SELECT "public"."orders"."total" FROM "public"."orders" WHERE ("public"."orders"."createdAt" >= $1 AND "public"."orders"."createdAt" <= $2 AND "public"."orders"."paymentStatus" = CAST($3::text AS "public"."PaymentStatus")) OFFSET $4) AS "sub"
prisma:query SELECT COUNT(*) AS "_count$_all" FROM (SELECT "public"."conversations"."id" FROM "public"."conversations" WHERE "public"."conversations"."status" = CAST($1::text AS "public"."ConversationStatus") OFFSET $2) AS "sub"
prisma:query SELECT COUNT(*) AS "_count$_all" FROM (SELECT "public"."quotes"."id" FROM "public"."quotes" WHERE 1=1 OFFSET $1) AS "sub"
prisma:query SELECT "public"."quotes"."id", "public"."quotes"."number", "public"."quotes"."userId", "public"."quotes"."customerName", "public"."quotes"."customerEmail", "public"."quotes"."customerPhone", "public"."quotes"."serviceStreet", "public"."quotes"."serviceNumber", "public"."quotes"."serviceComplement", "public"."quotes"."serviceNeighborhood", "public"."quotes"."serviceCity", "public"."quotes"."serviceState", "public"."quotes"."serviceZipCode", "public"."quotes"."subtotal", "public"."quotes"."discount", "public"."quotes"."total", "public"."quotes"."status"::text, "public"."quotes"."validUntil", "public"."quotes"."internalNotes", "public"."quotes"."customerNotes", "public"."quotes"."source"::text, "public"."quotes"."createdAt", "public"."quotes"."updatedAt", "public"."quotes"."sentAt", "public"."quotes"."viewedAt", "public"."quotes"."acceptedAt" FROM "public"."quotes" WHERE "public"."quotes"."status" IN (CAST($1::text AS "public"."QuoteStatus"),CAST($2::text AS "public"."QuoteStatus")) ORDER BY "public"."quotes"."createdAt" DESC LIMIT $3 OFFSET $4
prisma:query SELECT "public"."orders"."id", "public"."orders"."number", "public"."orders"."quoteId", "public"."orders"."userId", "public"."orders"."serviceStreet", "public"."orders"."serviceNumber", "public"."orders"."serviceComplement", "public"."orders"."serviceNeighborhood", "public"."orders"."serviceCity", "public"."orders"."serviceState", "public"."orders"."serviceZipCode", "public"."orders"."subtotal", "public"."orders"."discount", "public"."orders"."installationFee", "public"."orders"."total", "public"."orders"."paymentStatus"::text, "public"."orders"."paymentMethod"::text, "public"."orders"."paidAmount", "public"."orders"."stripeSessionId", "public"."orders"."stripePaymentIntentId", "public"."orders"."status"::text, "public"."orders"."estimatedDelivery", "public"."orders"."installedAt", "public"."orders"."completedAt", "public"."orders"."warrantyUntil", "public"."orders"."internalNotes", "public"."orders"."createdAt", "public"."orders"."updatedAt" FROM "public"."orders" WHERE 1=1 ORDER BY "public"."orders"."createdAt" DESC LIMIT $1 OFFSET $2
prisma:query SELECT COUNT(*) AS "_count$_all" FROM (SELECT "public"."appointments"."id" FROM "public"."appointments" WHERE ("public"."appointments"."scheduledDate" >= $1 AND "public"."appointments"."scheduledDate" < $2 AND "public"."appointments"."status" IN (CAST($3::text AS "public"."AppointmentStatus"),CAST($4::text AS "public"."AppointmentStatus"))) OFFSET $5) AS "sub"
prisma:query SELECT COUNT(*) AS "_count$_all" FROM (SELECT "public"."orders"."id" FROM "public"."orders" WHERE "public"."orders"."status" NOT IN (CAST($1::text AS "public"."OrderStatus"),CAST($2::text AS "public"."OrderStatus")) OFFSET $3) AS "sub"
prisma:query SELECT SUM("total") AS "_sum$total" FROM (SELECT "public"."orders"."total" FROM "public"."orders" WHERE ("public"."orders"."createdAt" >= $1 AND "public"."orders"."paymentStatus" = CAST($2::text AS "public"."PaymentStatus")) OFFSET $3) AS "sub"
prisma:query SELECT COUNT(*) AS "_count$_all" FROM (SELECT "public"."users"."id" FROM "public"."users" WHERE "public"."users"."role" = CAST($1::text AS "public"."Role") OFFSET $2) AS "sub"
prisma:query SELECT COUNT(*) AS "_count$_all" FROM (SELECT "public"."orders"."id" FROM "public"."orders" WHERE ("public"."orders"."createdAt" >= $1 AND "public"."orders"."createdAt" <= $2) OFFSET $3) AS "sub"
prisma:query SELECT COUNT(*) AS "_count$_all" FROM (SELECT "public"."quotes"."id" FROM "public"."quotes" WHERE "public"."quotes"."status" IN (CAST($1::text AS "public"."QuoteStatus"),CAST($2::text AS "public"."QuoteStatus")) OFFSET $3) AS "sub"
prisma:query SELECT "public"."users"."id", "public"."users"."name" FROM "public"."users" WHERE "public"."users"."id" IN ($1) OFFSET $2
[DEBUG] 2025-12-19T04:00:01.010Z - [AUTH] JWT callback { hasUser: false, trigger: undefined }
[DEBUG] 2025-12-19T04:00:01.013Z - [AUTH] Session callback { hasToken: true }
[DEBUG] 2025-12-19T04:00:01.014Z - [AUTH] Session created { userId: '81628a46-5e97-437a-9488-32d6a79e9d58', role: 'ADMIN' }
 GET /admin?_rsc=jirn6 200 in 1444ms
 GET /images/cta-pattern.svg 404 in 1114ms
 GET /images/hero-pattern.svg 404 in 1138ms
 â—‹ Compiling /api/whatsapp/stream ...
 âœ“ Compiled /api/whatsapp/stream in 4.4s (1383 modules)
 GET /images/cta-pattern.svg 404 in 5036ms
 GET /images/hero-pattern.svg 404 in 5050ms
[33m[auth][warn][debug-enabled][0m Read more: https://warnings.authjs.dev
[DEBUG] 2025-12-19T04:00:07.396Z - [AUTH] JWT callback { hasUser: false, trigger: undefined }
[DEBUG] 2025-12-19T04:00:07.396Z - [AUTH] Session callback { hasToken: true }
[DEBUG] 2025-12-19T04:00:07.396Z - [AUTH] Session created { userId: '81628a46-5e97-437a-9488-32d6a79e9d58', role: 'ADMIN' }
 GET /icons/icon-144x144.png 404 in 4884ms
prisma:query SELECT COUNT(*) AS "_count$_all" FROM (SELECT "public"."orders"."id" FROM "public"."orders" WHERE "public"."orders"."createdAt" >= $1 OFFSET $2) AS "sub"
prisma:query SELECT COUNT(*) AS "_count$_all" FROM (SELECT "public"."orders"."id" FROM "public"."orders" WHERE 1=1 OFFSET $1) AS "sub"
prisma:query SELECT SUM("total") AS "_sum$total" FROM (SELECT "public"."orders"."total" FROM "public"."orders" WHERE ("public"."orders"."createdAt" >= $1 AND "public"."orders"."paymentStatus" = CAST($2::text AS "public"."PaymentStatus")) OFFSET $3) AS "sub"
prisma:query SELECT COUNT(*) AS "_count$_all" FROM (SELECT "public"."appointments"."id" FROM "public"."appointments" WHERE ("public"."appointments"."scheduledDate" >= $1 AND "public"."appointments"."scheduledDate" < $2 AND "public"."appointments"."status" IN (CAST($3::text AS "public"."AppointmentStatus"),CAST($4::text AS "public"."AppointmentStatus"))) OFFSET $5) AS "sub"
prisma:query SELECT COUNT(*) AS "_count$_all" FROM (SELECT "public"."orders"."id" FROM "public"."orders" WHERE "public"."orders"."status" NOT IN (CAST($1::text AS "public"."OrderStatus"),CAST($2::text AS "public"."OrderStatus")) OFFSET $3) AS "sub"
prisma:query SELECT COUNT(*) AS "_count$_all" FROM (SELECT "public"."quotes"."id" FROM "public"."quotes" WHERE "public"."quotes"."status" IN (CAST($1::text AS "public"."QuoteStatus"),CAST($2::text AS "public"."QuoteStatus")) OFFSET $3) AS "sub"
prisma:query SELECT "public"."orders"."id", "public"."orders"."number", "public"."orders"."quoteId", "public"."orders"."userId", "public"."orders"."serviceStreet", "public"."orders"."serviceNumber", "public"."orders"."serviceComplement", "public"."orders"."serviceNeighborhood", "public"."orders"."serviceCity", "public"."orders"."serviceState", "public"."orders"."serviceZipCode", "public"."orders"."subtotal", "public"."orders"."discount", "public"."orders"."installationFee", "public"."orders"."total", "public"."orders"."paymentStatus"::text, "public"."orders"."paymentMethod"::text, "public"."orders"."paidAmount", "public"."orders"."stripeSessionId", "public"."orders"."stripePaymentIntentId", "public"."orders"."status"::text, "public"."orders"."estimatedDelivery", "public"."orders"."installedAt", "public"."orders"."completedAt", "public"."orders"."warrantyUntil", "public"."orders"."internalNotes", "public"."orders"."createdAt", "public"."orders"."updatedAt" FROM "public"."orders" WHERE 1=1 ORDER BY "public"."orders"."createdAt" DESC LIMIT $1 OFFSET $2
prisma:query SELECT SUM("total") AS "_sum$total" FROM (SELECT "public"."orders"."total" FROM "public"."orders" WHERE ("public"."orders"."createdAt" >= $1 AND "public"."orders"."createdAt" <= $2 AND "public"."orders"."paymentStatus" = CAST($3::text AS "public"."PaymentStatus")) OFFSET $4) AS "sub"
prisma:query SELECT COUNT(*) AS "_count$_all" FROM (SELECT "public"."users"."id" FROM "public"."users" WHERE "public"."users"."role" = CAST($1::text AS "public"."Role") OFFSET $2) AS "sub"
prisma:query SELECT COUNT(*) AS "_count$_all" FROM (SELECT "public"."conversations"."id" FROM "public"."conversations" WHERE "public"."conversations"."status" = CAST($1::text AS "public"."ConversationStatus") OFFSET $2) AS "sub"
prisma:query SELECT COUNT(*) AS "_count$_all" FROM (SELECT "public"."quotes"."id" FROM "public"."quotes" WHERE 1=1 OFFSET $1) AS "sub"
prisma:query SELECT COUNT(*) AS "_count$_all" FROM (SELECT "public"."orders"."id" FROM "public"."orders" WHERE ("public"."orders"."createdAt" >= $1 AND "public"."orders"."createdAt" <= $2) OFFSET $3) AS "sub"
prisma:query SELECT "public"."quotes"."id", "public"."quotes"."number", "public"."quotes"."userId", "public"."quotes"."customerName", "public"."quotes"."customerEmail", "public"."quotes"."customerPhone", "public"."quotes"."serviceStreet", "public"."quotes"."serviceNumber", "public"."quotes"."serviceComplement", "public"."quotes"."serviceNeighborhood", "public"."quotes"."serviceCity", "public"."quotes"."serviceState", "public"."quotes"."serviceZipCode", "public"."quotes"."subtotal", "public"."quotes"."discount", "public"."quotes"."total", "public"."quotes"."status"::text, "public"."quotes"."validUntil", "public"."quotes"."internalNotes", "public"."quotes"."customerNotes", "public"."quotes"."source"::text, "public"."quotes"."createdAt", "public"."quotes"."updatedAt", "public"."quotes"."sentAt", "public"."quotes"."viewedAt", "public"."quotes"."acceptedAt" FROM "public"."quotes" WHERE "public"."quotes"."status" IN (CAST($1::text AS "public"."QuoteStatus"),CAST($2::text AS "public"."QuoteStatus")) ORDER BY "public"."quotes"."createdAt" DESC LIMIT $3 OFFSET $4
prisma:query SELECT "public"."users"."id", "public"."users"."name" FROM "public"."users" WHERE "public"."users"."id" IN ($1) OFFSET $2
[DEBUG] 2025-12-19T04:00:07.818Z - [AUTH] JWT callback { hasUser: false, trigger: undefined }
[DEBUG] 2025-12-19T04:00:07.819Z - [AUTH] Session callback { hasToken: true }
[DEBUG] 2025-12-19T04:00:07.819Z - [AUTH] Session created { userId: '81628a46-5e97-437a-9488-32d6a79e9d58', role: 'ADMIN' }
 GET /admin?_rsc=jirn6 200 in 425ms
 GET /images/hero-pattern.svg 404 in 204ms
 GET /images/cta-pattern.svg 404 in 192ms
[SSE] Error fetching messages: TypeError: Cannot read properties of undefined (reading 'findMany')
    at Timeout.eval [as _onTimeout] (webpack-internal:///(rsc)/./src/app/api/whatsapp/stream/route.ts:42:111)
    at listOnTimeout (node:internal/timers:594:17)
    at process.processTimers (node:internal/timers:529:7)
[SSE] Error fetching messages: TypeError: Cannot read properties of undefined (reading 'findMany')
    at Timeout.eval [as _onTimeout] (webpack-internal:///(rsc)/./src/app/api/whatsapp/stream/route.ts:42:111)
    at listOnTimeout (node:internal/timers:594:17)
    at process.processTimers (node:internal/timers:529:7)
[SSE] Error fetching messages: TypeError: Cannot read properties of undefined (reading 'findMany')
    at Timeout.eval [as _onTimeout] (webpack-internal:///(rsc)/./src/app/api/whatsapp/stream/route.ts:42:111)
    at listOnTimeout (node:internal/timers:594:17)
    at process.processTimers (node:internal/timers:529:7)
[SSE] Error fetching messages: TypeError: Cannot read properties of undefined (reading 'findMany')
    at Timeout.eval [as _onTimeout] (webpack-internal:///(rsc)/./src/app/api/whatsapp/stream/route.ts:42:111)
    at listOnTimeout (node:internal/timers:594:17)
    at process.processTimers (node:internal/timers:529:7)
[SSE] Error fetching messages: TypeError: Cannot read properties of undefined (reading 'findMany')
    at Timeout.eval [as _onTimeout] (webpack-internal:///(rsc)/./src/app/api/whatsapp/stream/route.ts:42:111)
    at listOnTimeout (node:internal/timers:594:17)
    at process.processTimers (node:internal/timers:529:7)
[SSE] Error fetching messages: TypeError: Cannot read properties of undefined (reading 'findMany')
    at Timeout.eval [as _onTimeout] (webpack-internal:///(rsc)/./src/app/api/whatsapp/stream/route.ts:42:111)
    at listOnTimeout (node:internal/timers:594:17)
    at process.processTimers (node:internal/timers:529:7)
[SSE] Error fetching messages: TypeError: Cannot read properties of undefined (reading 'findMany')
    at Timeout.eval [as _onTimeout] (webpack-internal:///(rsc)/./src/app/api/whatsapp/stream/route.ts:42:111)
    at listOnTimeout (node:internal/timers:594:17)
    at process.processTimers (node:internal/timers:529:7)
[SSE] Error fetching messages: TypeError: Cannot read properties of undefined (reading 'findMany')
    at Timeout.eval [as _onTimeout] (webpack-internal:///(rsc)/./src/app/api/whatsapp/stream/route.ts:42:111)
    at listOnTimeout (node:internal/timers:594:17)
    at process.processTimers (node:internal/timers:529:7)
[SSE] Error fetching messages: TypeError: Cannot read properties of undefined (reading 'findMany')
    at Timeout.eval [as _onTimeout] (webpack-internal:///(rsc)/./src/app/api/whatsapp/stream/route.ts:42:111)
    at listOnTimeout (node:internal/timers:594:17)
    at process.processTimers (node:internal/timers:529:7)
[SSE] Error fetching messages: TypeError: Cannot read properties of undefined (reading 'findMany')
    at Timeout.eval [as _onTimeout] (webpack-internal:///(rsc)/./src/app/api/whatsapp/stream/route.ts:42:111)
    at listOnTimeout (node:internal/timers:594:17)
    at process.processTimers (node:internal/timers:529:7)
[SSE] Error fetching messages: TypeError: Cannot read properties of undefined (reading 'findMany')
    at Timeout.eval [as _onTimeout] (webpack-internal:///(rsc)/./src/app/api/whatsapp/stream/route.ts:42:111)
    at listOnTimeout (node:internal/timers:594:17)
    at process.processTimers (node:internal/timers:529:7)
[SSE] Error fetching messages: TypeError: Cannot read properties of undefined (reading 'findMany')
    at Timeout.eval [as _onTimeout] (webpack-internal:///(rsc)/./src/app/api/whatsapp/stream/route.ts:42:111)
    at listOnTimeout (node:internal/timers:594:17)
    at process.processTimers (node:internal/timers:529:7)
 âœ“ Compiled in 2s (1349 modules)
[SSE] Error fetching messages: TypeError: Cannot read properties of undefined (reading 'findMany')
    at Timeout.eval [as _onTimeout] (webpack-internal:///(rsc)/./src/app/api/whatsapp/stream/route.ts:42:111)
    at listOnTimeout (node:internal/timers:594:17)
    at process.processTimers (node:internal/timers:529:7)
[33m[auth][warn][debug-enabled][0m Read more: https://warnings.authjs.dev
prisma:query SELECT 1
prisma:query SELECT 1
prisma:query SELECT 1
prisma:query SELECT 1
prisma:query SELECT 1
prisma:query SELECT 1
prisma:query SELECT 1
prisma:query SELECT 1
prisma:query SELECT 1
prisma:query SELECT COUNT(*) AS "_count$_all" FROM (SELECT "public"."orders"."id" FROM "public"."orders" WHERE 1=1 OFFSET $1) AS "sub"
prisma:query SELECT COUNT(*) AS "_count$_all" FROM (SELECT "public"."orders"."id" FROM "public"."orders" WHERE ("public"."orders"."createdAt" >= $1 AND "public"."orders"."createdAt" <= $2) OFFSET $3) AS "sub"
prisma:query SELECT COUNT(*) AS "_count$_all" FROM (SELECT "public"."orders"."id" FROM "public"."orders" WHERE "public"."orders"."createdAt" >= $1 OFFSET $2) AS "sub"
prisma:query SELECT COUNT(*) AS "_count$_all" FROM (SELECT "public"."quotes"."id" FROM "public"."quotes" WHERE 1=1 OFFSET $1) AS "sub"
prisma:query SELECT COUNT(*) AS "_count$_all" FROM (SELECT "public"."quotes"."id" FROM "public"."quotes" WHERE "public"."quotes"."status" IN (CAST($1::text AS "public"."QuoteStatus"),CAST($2::text AS "public"."QuoteStatus")) OFFSET $3) AS "sub"
prisma:query SELECT COUNT(*) AS "_count$_all" FROM (SELECT "public"."orders"."id" FROM "public"."orders" WHERE "public"."orders"."status" NOT IN (CAST($1::text AS "public"."OrderStatus"),CAST($2::text AS "public"."OrderStatus")) OFFSET $3) AS "sub"
prisma:query SELECT SUM("total") AS "_sum$total" FROM (SELECT "public"."orders"."total" FROM "public"."orders" WHERE ("public"."orders"."createdAt" >= $1 AND "public"."orders"."createdAt" <= $2 AND "public"."orders"."paymentStatus" = CAST($3::text AS "public"."PaymentStatus")) OFFSET $4) AS "sub"
prisma:query SELECT "public"."orders"."id", "public"."orders"."number", "public"."orders"."quoteId", "public"."orders"."userId", "public"."orders"."serviceStreet", "public"."orders"."serviceNumber", "public"."orders"."serviceComplement", "public"."orders"."serviceNeighborhood", "public"."orders"."serviceCity", "public"."orders"."serviceState", "public"."orders"."serviceZipCode", "public"."orders"."subtotal", "public"."orders"."discount", "public"."orders"."installationFee", "public"."orders"."total", "public"."orders"."paymentStatus"::text, "public"."orders"."paymentMethod"::text, "public"."orders"."paidAmount", "public"."orders"."stripeSessionId", "public"."orders"."stripePaymentIntentId", "public"."orders"."status"::text, "public"."orders"."estimatedDelivery", "public"."orders"."installedAt", "public"."orders"."completedAt", "public"."orders"."warrantyUntil", "public"."orders"."internalNotes", "public"."orders"."createdAt", "public"."orders"."updatedAt" FROM "public"."orders" WHERE 1=1 ORDER BY "public"."orders"."createdAt" DESC LIMIT $1 OFFSET $2
prisma:query SELECT COUNT(*) AS "_count$_all" FROM (SELECT "public"."conversations"."id" FROM "public"."conversations" WHERE "public"."conversations"."status" = CAST($1::text AS "public"."ConversationStatus") OFFSET $2) AS "sub"
prisma:query SELECT COUNT(*) AS "_count$_all" FROM (SELECT "public"."users"."id" FROM "public"."users" WHERE "public"."users"."role" = CAST($1::text AS "public"."Role") OFFSET $2) AS "sub"
prisma:query SELECT SUM("total") AS "_sum$total" FROM (SELECT "public"."orders"."total" FROM "public"."orders" WHERE ("public"."orders"."createdAt" >= $1 AND "public"."orders"."paymentStatus" = CAST($2::text AS "public"."PaymentStatus")) OFFSET $3) AS "sub"
prisma:query SELECT "public"."users"."id", "public"."users"."name" FROM "public"."users" WHERE "public"."users"."id" IN ($1) OFFSET $2
prisma:query SELECT COUNT(*) AS "_count$_all" FROM (SELECT "public"."appointments"."id" FROM "public"."appointments" WHERE ("public"."appointments"."scheduledDate" >= $1 AND "public"."appointments"."scheduledDate" < $2 AND "public"."appointments"."status" IN (CAST($3::text AS "public"."AppointmentStatus"),CAST($4::text AS "public"."AppointmentStatus"))) OFFSET $5) AS "sub"
prisma:query SELECT "public"."quotes"."id", "public"."quotes"."number", "public"."quotes"."userId", "public"."quotes"."customerName", "public"."quotes"."customerEmail", "public"."quotes"."customerPhone", "public"."quotes"."serviceStreet", "public"."quotes"."serviceNumber", "public"."quotes"."serviceComplement", "public"."quotes"."serviceNeighborhood", "public"."quotes"."serviceCity", "public"."quotes"."serviceState", "public"."quotes"."serviceZipCode", "public"."quotes"."subtotal", "public"."quotes"."discount", "public"."quotes"."total", "public"."quotes"."status"::text, "public"."quotes"."validUntil", "public"."quotes"."internalNotes", "public"."quotes"."customerNotes", "public"."quotes"."source"::text, "public"."quotes"."createdAt", "public"."quotes"."updatedAt", "public"."quotes"."sentAt", "public"."quotes"."viewedAt", "public"."quotes"."acceptedAt" FROM "public"."quotes" WHERE "public"."quotes"."status" IN (CAST($1::text AS "public"."QuoteStatus"),CAST($2::text AS "public"."QuoteStatus")) ORDER BY "public"."quotes"."createdAt" DESC LIMIT $3 OFFSET $4
[DEBUG] 2025-12-19T04:00:46.703Z - [AUTH] JWT callback { hasUser: false, trigger: undefined }
[DEBUG] 2025-12-19T04:00:46.704Z - [AUTH] Session callback { hasToken: true }
[DEBUG] 2025-12-19T04:00:46.704Z - [AUTH] Session created { userId: '81628a46-5e97-437a-9488-32d6a79e9d58', role: 'ADMIN' }
 GET /admin?_rsc=jirn6 200 in 620ms
 GET /images/hero-pattern.svg 404 in 463ms
 GET /images/cta-pattern.svg 404 in 454ms
[SSE] Error fetching messages: TypeError: Cannot read properties of undefined (reading 'findMany')
    at Timeout.eval [as _onTimeout] (webpack-internal:///(rsc)/./src/app/api/whatsapp/stream/route.ts:42:111)
    at listOnTimeout (node:internal/timers:594:17)
    at process.processTimers (node:internal/timers:529:7)
[SSE] Error fetching messages: TypeError: Cannot read properties of undefined (reading 'findMany')
    at Timeout.eval [as _onTimeout] (webpack-internal:///(rsc)/./src/app/api/whatsapp/stream/route.ts:42:111)
    at listOnTimeout (node:internal/timers:594:17)
    at process.processTimers (node:internal/timers:529:7)
[SSE] Error fetching messages: TypeError: Cannot read properties of undefined (reading 'findMany')
    at Timeout.eval [as _onTimeout] (webpack-internal:///(rsc)/./src/app/api/whatsapp/stream/route.ts:42:111)
    at listOnTimeout (node:internal/timers:594:17)
    at process.processTimers (node:internal/timers:529:7)
[SSE] Error fetching messages: TypeError: Cannot read properties of undefined (reading 'findMany')
    at Timeout.eval [as _onTimeout] (webpack-internal:///(rsc)/./src/app/api/whatsapp/stream/route.ts:42:111)
    at listOnTimeout (node:internal/timers:594:17)
    at process.processTimers (node:internal/timers:529:7)
 âœ“ Compiled in 1759ms (1349 modules)
[33m[auth][warn][debug-enabled][0m Read more: https://warnings.authjs.dev
prisma:query SELECT COUNT(*) AS "_count$_all" FROM (SELECT "public"."orders"."id" FROM "public"."orders" WHERE 1=1 OFFSET $1) AS "sub"
prisma:query SELECT COUNT(*) AS "_count$_all" FROM (SELECT "public"."orders"."id" FROM "public"."orders" WHERE "public"."orders"."createdAt" >= $1 OFFSET $2) AS "sub"
prisma:query SELECT COUNT(*) AS "_count$_all" FROM (SELECT "public"."orders"."id" FROM "public"."orders" WHERE ("public"."orders"."createdAt" >= $1 AND "public"."orders"."createdAt" <= $2) OFFSET $3) AS "sub"
prisma:query SELECT COUNT(*) AS "_count$_all" FROM (SELECT "public"."orders"."id" FROM "public"."orders" WHERE "public"."orders"."status" NOT IN (CAST($1::text AS "public"."OrderStatus"),CAST($2::text AS "public"."OrderStatus")) OFFSET $3) AS "sub"
prisma:query SELECT "public"."orders"."id", "public"."orders"."number", "public"."orders"."quoteId", "public"."orders"."userId", "public"."orders"."serviceStreet", "public"."orders"."serviceNumber", "public"."orders"."serviceComplement", "public"."orders"."serviceNeighborhood", "public"."orders"."serviceCity", "public"."orders"."serviceState", "public"."orders"."serviceZipCode", "public"."orders"."subtotal", "public"."orders"."discount", "public"."orders"."installationFee", "public"."orders"."total", "public"."orders"."paymentStatus"::text, "public"."orders"."paymentMethod"::text, "public"."orders"."paidAmount", "public"."orders"."stripeSessionId", "public"."orders"."stripePaymentIntentId", "public"."orders"."status"::text, "public"."orders"."estimatedDelivery", "public"."orders"."installedAt", "public"."orders"."completedAt", "public"."orders"."warrantyUntil", "public"."orders"."internalNotes", "public"."orders"."createdAt", "public"."orders"."updatedAt" FROM "public"."orders" WHERE 1=1 ORDER BY "public"."orders"."createdAt" DESC LIMIT $1 OFFSET $2
prisma:query SELECT COUNT(*) AS "_count$_all" FROM (SELECT "public"."users"."id" FROM "public"."users" WHERE "public"."users"."role" = CAST($1::text AS "public"."Role") OFFSET $2) AS "sub"
prisma:query SELECT "public"."quotes"."id", "public"."quotes"."number", "public"."quotes"."userId", "public"."quotes"."customerName", "public"."quotes"."customerEmail", "public"."quotes"."customerPhone", "public"."quotes"."serviceStreet", "public"."quotes"."serviceNumber", "public"."quotes"."serviceComplement", "public"."quotes"."serviceNeighborhood", "public"."quotes"."serviceCity", "public"."quotes"."serviceState", "public"."quotes"."serviceZipCode", "public"."quotes"."subtotal", "public"."quotes"."discount", "public"."quotes"."total", "public"."quotes"."status"::text, "public"."quotes"."validUntil", "public"."quotes"."internalNotes", "public"."quotes"."customerNotes", "public"."quotes"."source"::text, "public"."quotes"."createdAt", "public"."quotes"."updatedAt", "public"."quotes"."sentAt", "public"."quotes"."viewedAt", "public"."quotes"."acceptedAt" FROM "public"."quotes" WHERE "public"."quotes"."status" IN (CAST($1::text AS "public"."QuoteStatus"),CAST($2::text AS "public"."QuoteStatus")) ORDER BY "public"."quotes"."createdAt" DESC LIMIT $3 OFFSET $4
prisma:query SELECT SUM("total") AS "_sum$total" FROM (SELECT "public"."orders"."total" FROM "public"."orders" WHERE ("public"."orders"."createdAt" >= $1 AND "public"."orders"."createdAt" <= $2 AND "public"."orders"."paymentStatus" = CAST($3::text AS "public"."PaymentStatus")) OFFSET $4) AS "sub"
prisma:query SELECT "public"."users"."id", "public"."users"."name" FROM "public"."users" WHERE "public"."users"."id" IN ($1) OFFSET $2
prisma:query SELECT COUNT(*) AS "_count$_all" FROM (SELECT "public"."quotes"."id" FROM "public"."quotes" WHERE "public"."quotes"."status" IN (CAST($1::text AS "public"."QuoteStatus"),CAST($2::text AS "public"."QuoteStatus")) OFFSET $3) AS "sub"
prisma:query SELECT SUM("total") AS "_sum$total" FROM (SELECT "public"."orders"."total" FROM "public"."orders" WHERE ("public"."orders"."createdAt" >= $1 AND "public"."orders"."paymentStatus" = CAST($2::text AS "public"."PaymentStatus")) OFFSET $3) AS "sub"
prisma:query SELECT COUNT(*) AS "_count$_all" FROM (SELECT "public"."appointments"."id" FROM "public"."appointments" WHERE ("public"."appointments"."scheduledDate" >= $1 AND "public"."appointments"."scheduledDate" < $2 AND "public"."appointments"."status" IN (CAST($3::text AS "public"."AppointmentStatus"),CAST($4::text AS "public"."AppointmentStatus"))) OFFSET $5) AS "sub"
prisma:query SELECT COUNT(*) AS "_count$_all" FROM (SELECT "public"."conversations"."id" FROM "public"."conversations" WHERE "public"."conversations"."status" = CAST($1::text AS "public"."ConversationStatus") OFFSET $2) AS "sub"
prisma:query SELECT COUNT(*) AS "_count$_all" FROM (SELECT "public"."quotes"."id" FROM "public"."quotes" WHERE 1=1 OFFSET $1) AS "sub"
[DEBUG] 2025-12-19T04:00:59.645Z - [AUTH] JWT callback { hasUser: false, trigger: undefined }
[DEBUG] 2025-12-19T04:00:59.646Z - [AUTH] Session callback { hasToken: true }
[DEBUG] 2025-12-19T04:00:59.646Z - [AUTH] Session created { userId: '81628a46-5e97-437a-9488-32d6a79e9d58', role: 'ADMIN' }
 GET /admin?_rsc=jirn6 200 in 575ms
 GET /images/cta-pattern.svg 404 in 418ms
 GET /images/hero-pattern.svg 404 in 432ms
[SSE] Error fetching messages: TypeError: Cannot read properties of undefined (reading 'findMany')
    at Timeout.eval [as _onTimeout] (webpack-internal:///(rsc)/./src/app/api/whatsapp/stream/route.ts:42:111)
    at listOnTimeout (node:internal/timers:594:17)
    at process.processTimers (node:internal/timers:529:7)
[SSE] Error fetching messages: TypeError: Cannot read properties of undefined (reading 'findMany')
    at Timeout.eval [as _onTimeout] (webpack-internal:///(rsc)/./src/app/api/whatsapp/stream/route.ts:42:111)
    at listOnTimeout (node:internal/timers:594:17)
    at process.processTimers (node:internal/timers:529:7)
[SSE] Error fetching messages: TypeError: Cannot read properties of undefined (reading 'findMany')
    at Timeout.eval [as _onTimeout] (webpack-internal:///(rsc)/./src/app/api/whatsapp/stream/route.ts:42:111)
    at listOnTimeout (node:internal/timers:594:17)
    at process.processTimers (node:internal/timers:529:7)
[SSE] Error fetching messages: TypeError: Cannot read properties of undefined (reading 'findMany')
    at Timeout.eval [as _onTimeout] (webpack-internal:///(rsc)/./src/app/api/whatsapp/stream/route.ts:42:111)
    at listOnTimeout (node:internal/timers:594:17)
    at process.processTimers (node:internal/timers:529:7)
[SSE] Error fetching messages: TypeError: Cannot read properties of undefined (reading 'findMany')
    at Timeout.eval [as _onTimeout] (webpack-internal:///(rsc)/./src/app/api/whatsapp/stream/route.ts:42:111)
    at listOnTimeout (node:internal/timers:594:17)
    at process.processTimers (node:internal/timers:529:7)
[SSE] Error fetching messages: TypeError: Cannot read properties of undefined (reading 'findMany')
    at Timeout.eval [as _onTimeout] (webpack-internal:///(rsc)/./src/app/api/whatsapp/stream/route.ts:42:111)
    at listOnTimeout (node:internal/timers:594:17)
    at process.processTimers (node:internal/timers:529:7)
[SSE] Error fetching messages: TypeError: Cannot read properties of undefined (reading 'findMany')
    at Timeout.eval [as _onTimeout] (webpack-internal:///(rsc)/./src/app/api/whatsapp/stream/route.ts:42:111)
    at listOnTimeout (node:internal/timers:594:17)
    at process.processTimers (node:internal/timers:529:7)
[SSE] Error fetching messages: TypeError: Cannot read properties of undefined (reading 'findMany')
    at Timeout.eval [as _onTimeout] (webpack-internal:///(rsc)/./src/app/api/whatsapp/stream/route.ts:42:111)
    at listOnTimeout (node:internal/timers:594:17)
    at process.processTimers (node:internal/timers:529:7)
 GET /api/whatsapp/stream 200 in 83185ms
 GET /.well-known/appspecific/com.chrome.devtools.json 404 in 233ms
 GET / 200 in 598ms
 GET /images/hero-pattern.svg 404 in 160ms
 GET /images/cta-pattern.svg 404 in 289ms
 â—‹ Compiling /api/auth/[...nextauth] ...
 âœ“ Compiled /api/auth/[...nextauth] in 792ms (834 modules)
 âœ“ Compiled (836 modules)
[33m[auth][warn][debug-enabled][0m Read more: https://warnings.authjs.dev
 GET /manifest.webmanifest 200 in 2431ms
[DEBUG] 2025-12-19T04:01:29.848Z - [AUTH] JWT callback { hasUser: false, trigger: undefined }
[DEBUG] 2025-12-19T04:01:29.849Z - [AUTH] Session callback { hasToken: true }
[DEBUG] 2025-12-19T04:01:29.849Z - [AUTH] Session created { userId: '81628a46-5e97-437a-9488-32d6a79e9d58', role: 'ADMIN' }
 GET /api/auth/session 200 in 2299ms
[DEBUG] 2025-12-19T04:01:30.002Z - [AUTH] JWT callback { hasUser: false, trigger: undefined }
[DEBUG] 2025-12-19T04:01:30.003Z - [AUTH] Session callback { hasToken: true }
[DEBUG] 2025-12-19T04:01:30.003Z - [AUTH] Session created { userId: '81628a46-5e97-437a-9488-32d6a79e9d58', role: 'ADMIN' }
 GET /api/auth/session 200 in 131ms
[DEBUG] 2025-12-19T04:01:30.119Z - [AUTH] JWT callback { hasUser: false, trigger: undefined }
[DEBUG] 2025-12-19T04:01:30.119Z - [AUTH] Session callback { hasToken: true }
[DEBUG] 2025-12-19T04:01:30.120Z - [AUTH] Session created { userId: '81628a46-5e97-437a-9488-32d6a79e9d58', role: 'ADMIN' }
 GET /api/auth/session 200 in 106ms
[DEBUG] 2025-12-19T04:01:30.269Z - [AUTH] JWT callback { hasUser: false, trigger: undefined }
[DEBUG] 2025-12-19T04:01:30.269Z - [AUTH] Session callback { hasToken: true }
[DEBUG] 2025-12-19T04:01:30.269Z - [AUTH] Session created { userId: '81628a46-5e97-437a-9488-32d6a79e9d58', role: 'ADMIN' }
 GET /api/auth/session 200 in 120ms
 GET /api/auth/csrf 200 in 212ms
 POST /api/auth/signout 200 in 176ms
 GET /.well-known/appspecific/com.chrome.devtools.json 404 in 731ms
 GET /images/hero-pattern.svg 404 in 910ms
 GET / 200 in 3594ms
 GET /images/cta-pattern.svg 404 in 800ms
 GET /manifest.webmanifest 200 in 811ms
 GET /api/auth/session 200 in 741ms
 GET /api/auth/session 200 in 205ms
 GET /api/auth/session 200 in 175ms
 GET /api/auth/session 200 in 122ms
 âœ“ Compiled in 4.3s (1381 modules)
 GET /images/hero-pattern.svg 404 in 587ms
 GET /images/cta-pattern.svg 404 in 580ms
 GET /images/hero-pattern.svg 404 in 616ms
 GET /images/cta-pattern.svg 404 in 769ms
 GET /icons/icon-144x144.png 404 in 445ms
 GET /.well-known/appspecific/com.chrome.devtools.json 404 in 430ms
 GET / 200 in 1147ms
 GET /images/hero-pattern.svg 404 in 397ms
 GET /images/cta-pattern.svg 404 in 414ms
 â—‹ Compiling /api/auth/[...nextauth] ...
 âœ“ Compiled /api/auth/[...nextauth] in 4.5s (831 modules)
 âœ“ Compiled (838 modules)
 GET /manifest.webmanifest 200 in 7514ms
[33m[auth][warn][debug-enabled][0m Read more: https://warnings.authjs.dev
 GET /icon.png?4a0e2032a7eb3a55 200 in 7982ms
 GET /api/auth/session 200 in 6872ms
 GET /api/auth/session 200 in 254ms
 GET /api/auth/session 200 in 157ms
 GET /api/auth/session 200 in 174ms
